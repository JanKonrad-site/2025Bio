/* layout.css
   Header + layout grid + responsivita
-------------------------------------------------- */

.header{
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 3000;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border-bottom: 1px solid color-mix(in srgb, var(--border) 80%, transparent);
}

.sitebar{
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 14px;
  background: color-mix(in srgb, var(--bg2) 72%, transparent);
}

.brand{
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-weight: 760;
  letter-spacing: .3px;
  white-space: nowrap;
}
.brand .dot{
  width: 10px; height: 10px;
  border-radius: 999px;
  background: var(--accent);
  box-shadow: 0 0 0 6px color-mix(in srgb, var(--accent) 18%, transparent);
}

.siteLinks{
  display: flex;
  align-items: center;
  gap: 8px;
}

.siteMenuBtn{
  display: none;
}

.docbar{
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 14px;
  background: color-mix(in srgb, var(--bg2) 82%, transparent);
  border-top: 1px solid color-mix(in srgb, var(--border) 70%, transparent);
}

.docMenuBtn{
  display: none;
  white-space: nowrap;
}

.searchWrap{
  flex: 1;
  display: flex;
  gap: 10px;
  align-items: center;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface-2) 65%, transparent);
  box-shadow: 0 12px 30px rgba(0,0,0,.18);
}

.searchWrap input{
  width: 100%;
  border: 0;
  outline: none;
  background: transparent;
  color: var(--text);
  font-size: 15px;
}
.searchWrap input::placeholder{
  color: color-mix(in srgb, var(--muted) 80%, transparent);
}

.layout{
  height: calc(100dvh - var(--site-nav-h) - var(--doc-toolbar-h));
  display: grid;
  grid-template-columns: var(--nav-w) 1fr;
  gap: var(--gap);
  padding: var(--gap);
  overflow: hidden;
}

.sidebar{
  position: sticky;
  top: calc(var(--site-nav-h) + var(--doc-toolbar-h) + var(--gap));
  height: calc(100dvh - var(--site-nav-h) - var(--doc-toolbar-h) - (var(--gap) * 2));
  overflow: auto;
  padding: 10px;
}

.content{
  height: calc(100dvh - var(--site-nav-h) - var(--doc-toolbar-h) - (var(--gap) * 2));
  overflow: auto;
  padding: 18px 18px;
  scroll-behavior: smooth;
}

[id]{ scroll-margin-top: 14px; }

.overlay{
  display: none;
  position: fixed;
  inset: calc(var(--site-nav-h) + var(--doc-toolbar-h)) 0 0 0;
  background: rgba(0,0,0,.55);
  z-index: 2500;
}

@media (max-width: 980px){
  :root{ --nav-w: 360px; }

  .siteMenuBtn{ display: inline-flex; align-items: center; gap: 8px; }
  .siteLinks{
    display: none;
    position: absolute;
    top: var(--site-nav-h);
    right: 10px;
    left: 10px;
    padding: 10px;
    border-radius: 16px;
    background: color-mix(in srgb, var(--surface-2) 88%, transparent);
    border: 1px solid var(--border);
    box-shadow: var(--shadow);
    flex-direction: column;
    align-items: stretch;
    gap: 6px;
  }
  body.site-open .siteLinks{ display: flex; }

  .docMenuBtn{ display: inline-flex; }

  .layout{ grid-template-columns: 1fr; }

  .sidebar{
    position: fixed;
    z-index: 2600;
    left: 10px;
    right: auto;
    top: calc(var(--site-nav-h) + var(--doc-toolbar-h) + 10px);
    height: calc(100dvh - var(--site-nav-h) - var(--doc-toolbar-h) - 20px);
    width: min(92vw, var(--nav-w));
    transform: translateX(-110%);
    transition: transform .18s ease;
  }
  body.nav-open .sidebar{ transform: translateX(0); }

  body.nav-open .overlay{ display: block; }
}
