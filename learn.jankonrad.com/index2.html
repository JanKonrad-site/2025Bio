<!DOCTYPE html>
<html lang="cs" data-bs-theme="light">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    img-src 'self' https: data: blob: raw.githubusercontent.com user-images.githubusercontent.com res.cloudinary.com *.cloudinary.com learn.jankonrad.com;
    script-src 'self' 'unsafe-inline' https:;
    style-src  'self' 'unsafe-inline' https:;
    font-src   'self' https: data:;
    connect-src 'self' https:;
    media-src  'self' https:;
    frame-src  'self' https:;
    object-src 'none';
    base-uri 'self';
    upgrade-insecure-requests;
  ">

  <title>Dokumentace s vyhled√°v√°n√≠m a p≈ôep√≠naƒçem re≈æimu</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="./CSS/animace.css">
  <link rel="stylesheet" href="./CSS/carousel.css">
  <link rel="stylesheet" href="./CSS/carousel.rtl.css">

  <style>
    :root{
      --site-nav-h: 56px;     /* fallback, JS to zp≈ôesn√≠ */
      --doc-toolbar-h: 52px;  /* fallback, JS to zp≈ôesn√≠ */

      --doc-bg: #f8f9fa;
      --doc-surface: #ffffff;
      --doc-border: #dddddd;
      --doc-active-bg: #e9f5ff;
      --doc-text: #212529;
    }

    html[data-bs-theme="dark"]{
      --doc-bg: #121212;
      --doc-surface: #1e1e1e;
      --doc-border: #333333;
      --doc-active-bg: #333333;
      --doc-text: #e1e1e1;
    }

    body{
      padding-top: var(--site-nav-h);
      padding-bottom: 0.5rem;
      background: var(--doc-bg);
      color: var(--doc-text);
      transition: background-color .25s, color .25s;
      scroll-behavior: smooth;
    }

    /* Sticky toolbar pod hlavn√≠ navbar */
    #docToolbar{
      position: sticky;
      top: var(--site-nav-h);
      z-index: 1020;
      background: var(--doc-surface);
      border-bottom: 1px solid var(--doc-border);
    }

    /* Layout */
    #layoutRow{
      padding-top: .75rem;
    }

    /* Sidebar / navigace */
    #docNavCol{
      position: sticky;
      top: calc(var(--site-nav-h) + var(--doc-toolbar-h) + .75rem);
      align-self: flex-start;
      max-height: calc(100dvh - var(--site-nav-h) - var(--doc-toolbar-h) - 1.5rem);
      overflow: auto;
      border-right: 1px solid transparent; /* jen kv≈Øli optice, m≈Ø≈æe≈° pryƒç */
    }

    #docNavWrap{
      background: var(--doc-surface);
      border: 1px solid var(--doc-border);
      border-radius: .5rem;
      padding: .5rem .75rem;
    }

    /* Aktivn√≠ odkaz */
    #docNav .nav-link.active{
      font-weight: 600;
      background: var(--doc-active-bg);
      border-radius: .25rem;
    }

    /* Odsazen√≠ podkapitol v navigaci */
    #docNav .nav-link.ms-1 { margin-left: .8rem !important; }
    #docNav .nav-link.ms-2 { margin-left: 1.4rem !important; }

    /* Scrollovateln√Ω obsah */
    #scrollspyContent{
      position: relative;
      height: calc(100dvh - var(--site-nav-h) - var(--doc-toolbar-h) - 1.5rem);
      overflow-y: auto;
      padding: 1rem 1.5rem;
      background: var(--doc-surface);
      border-radius: .5rem;
      border: 1px solid var(--doc-border);
      font-size: 1rem;
    }

    /* Aby anchor scroll nelezl pod fixn√≠ prvky */
    .section-wrapper{
      scroll-margin-top: calc(var(--site-nav-h) + var(--doc-toolbar-h) + 16px);
    }

    /* Vyhled√°v√°n√≠ + tlaƒç√≠tka */
    #navSearch{
      background: transparent;
      color: inherit;
    }

    .img-natural {
      width: auto;
      height: auto;
      max-width: 100%;
      max-height: 80vh;
      display: inline-block;
    }

    @media (max-width: 576px){
      .resize-mobile{
        max-width: 200px;
        width: 100%;
        margin: 0 auto;
      }
    }

    /* Na mobilu: navigace je sbaliteln√° a sidebar se chov√° jako blok */
    @media (max-width: 767.98px){
      #docNavCol{
        position: static;
        max-height: none;
        overflow: visible;
      }
      #docNavCollapse{
        max-height: 70dvh;
        overflow: auto;
      }
    }
  </style>
</head>

<body>

  <!-- Hlavn√≠ navbar webu -->
  <header>
    <nav id="siteNavbar" class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Jan Konr√°d</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
          aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav me-auto mb-2 mb-md-0">
            <li class="nav-item"><a class="nav-link" href="../index.html">Dom≈Ø</a></li>
            <li class="nav-item"><a class="nav-link" href="./index.html">V√Ωuka</a></li>
            <li class="nav-item"><a class="nav-link" href="#">3D grafika</a></li>
            <li class="nav-item"><a class="nav-link" href="#">Webov√© str√°nky</a></li>
            <li class="nav-item"><a class="nav-link" href="#">Kontakt</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Sticky toolbar: vyhled√°v√°n√≠ + toggle t√©ma + (na mobilu) tlaƒç√≠tko menu -->
    <div id="docToolbar" class="py-2">
      <div class="container-fluid">
        <div class="d-flex gap-2 align-items-center">

          <!-- Toggler navigace (viditeln√Ω prim√°rnƒõ na mobilu) -->
          <button id="docNavToggleBtn"
            class="btn btn-outline-primary d-md-none"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#docNavCollapse"
            aria-expanded="false"
            aria-controls="docNavCollapse"
            title="Otev≈ô√≠t menu"
            aria-label="Otev≈ô√≠t menu">
            &#9776;
          </button>

          <!-- Vyhled√°v√°n√≠ (jedno pro v≈°echny re≈æimy) -->
          <div class="input-group">
            <input id="navSearch" type="search" class="form-control" placeholder="Hledat v menu..."
              aria-label="Hledat v menu" autocomplete="off">
            <button id="clearSearchBtn" class="btn btn-outline-secondary" type="button" aria-label="Vymazat vyhled√°v√°n√≠" title="Vymazat">
              √ó
            </button>
          </div>

          <!-- Theme toggle -->
          <button id="themeToggleBtn" class="btn btn-outline-secondary" type="button"
            title="P≈ôepnout t√©ma: auto / tmav√Ω / svƒõtl√Ω"
            aria-label="P≈ôepnout t√©ma: auto / tmav√Ω / svƒõtl√Ω">
            üåó
          </button>

        </div>
      </div>
    </div>
  </header>

  <div class="container-fluid">
    <div id="layoutRow" class="row g-3">

      <!-- Jedin√° navigace: na mobilu collapse, na desktopu sticky sidebar -->
      <aside class="col-12 col-md-3" id="docNavCol" aria-label="Navigace">
        <div id="docNavWrap">
          <div class="collapse" id="docNavCollapse">
            <nav id="docNav" class="nav flex-column">

              <!-- ===== NAV (slouƒçeno do jedn√© verze) ===== -->
              <a class="nav-link" href="#section1" data-section="section1">1. Z√°klady pr√°ce s poƒç√≠taƒçem</a>
              <a class="nav-link ms-1" href="#section1-1" data-section="section1-1">1.1 √övod do pr√°ce s poƒç√≠taƒçem</a>
              <a class="nav-link ms-1" href="#section1-2" data-section="section1-2">1.2 Co je poƒç√≠taƒç a jak funguje (z√°kladn√≠ principy v√Ωpoƒçetn√≠ techniky)</a>
              <a class="nav-link ms-1" href="#section1-3" data-section="section1-3">1.3 Typy poƒç√≠taƒç≈Ø a za≈ô√≠zen√≠ (notebook, PC, tablet, mobil, periferie)</a>
              <a class="nav-link ms-1" href="#section1-4" data-section="section1-4">1.4 Firmware poƒç√≠taƒçe (BIOS a UEFI)</a>
              <a class="nav-link ms-1" href="#section1-5" data-section="section1-5">1.5 Struktura a funkce syst√©mu Windows</a>
              <a class="nav-link ms-1" href="#section1-6" data-section="section1-6">1.6 Pr√°ce se soubory a slo≈ækami</a>
              <a class="nav-link ms-1" href="#section1-7" data-section="section1-7">1.7 P≈ô√≠kazov√Ω ≈ô√°dek (CMD) ‚Äì z√°klady pr√°ce s textov√Ωm rozhran√≠m</a>
              <a class="nav-link ms-1" href="#section1-8" data-section="section1-8">1.8 Z√°klady bezpeƒçnosti a √∫dr≈æby syst√©mu</a>

              <a class="nav-link" href="#section2" data-section="section2">2. Kancel√°≈ôsk√© informaƒçn√≠ syst√©my</a>
              <a class="nav-link ms-1" href="#section2-1" data-section="section2-1">2.1 Textov√© editory ‚Äì Word, LibreOffice Writer, Google Dokumenty</a>
              <a class="nav-link ms-2" href="#section2-1-1a" data-section="section2-1-1a">2.1.1 Typografick√° pravidla</a>
              <a class="nav-link ms-2" href="#section2-1-1" data-section="section2-1-1">2.1.1 Form√°t p√≠sma</a>
              <a class="nav-link ms-2" href="#section2-1-2" data-section="section2-1-2">2.1.2 Form√°t odstavce</a>
              <a class="nav-link ms-2" href="#section2-1-3" data-section="section2-1-3">2.1.3 Vzhled str√°nky, sloupce</a>
              <a class="nav-link ms-2" href="#section2-1-4" data-section="section2-1-4">2.1.4 N√°vrh str√°nky</a>
              <a class="nav-link ms-2" href="#section2-1-5" data-section="section2-1-5">2.1.5 Naj√≠t, Nahradit</a>
              <a class="nav-link ms-2" href="#section2-1-6" data-section="section2-1-6">2.1.6 Styly</a>
              <a class="nav-link ms-2" href="#section2-1-7" data-section="section2-1-7">2.1.7 Obsah, osnova</a>
              <a class="nav-link ms-2" href="#section2-1-8" data-section="section2-1-8">2.1.8 Odkazy, seznamy a tabul√°tory</a>
              <a class="nav-link ms-2" href="#section2-1-9" data-section="section2-1-9">2.1.9 Celkov√© opakov√°n√≠ - cviƒçen√≠ tvorba testu</a>
              <a class="nav-link ms-2" href="#section2-1-10" data-section="section2-1-10">2.1.10 Vkl√°d√°n√≠ a √∫prava obr√°zk≈Ø</a>
              <a class="nav-link ms-2" href="#section2-1-11" data-section="section2-1-11">2.1.11 Vzorce, tabulky a textov√° pole</a>
              <a class="nav-link ms-2" href="#section2-1-12" data-section="section2-1-12">2.1.12 Titulek, seznam obr√°zk≈Ø a tabulek, k≈ô√≠≈æov√© odkazy, citace a bibliografie, rejst≈ô√≠k</a>

              <a class="nav-link ms-1" href="#section2-2" data-section="section2-2">2.2 Tabulkov√© procesory ‚Äì Excel, LibreOffice Calc, Google Sheets</a>
              <a class="nav-link ms-2" href="#section2-2-1" data-section="section2-2-1">2.2.1 Vzorce, funkce, filtrov√°n√≠</a>
              <a class="nav-link ms-2" href="#section2-2-2" data-section="section2-2-2">2.2.2 Tvorba graf≈Ø, anal√Ωza dat</a>
              <a class="nav-link ms-2" href="#2-2-1" data-section="2-2-1">2.2.1 ƒå√≠seln√© ≈ôady, matematick√© fce, datov√© typy - Rozpoƒçet</a>
              <a class="nav-link ms-2" href="#2-2-2" data-section="2-2-2">2.2.2 Funkce z pohledu matematiky vs Excel - Line√°rn√≠ funkce</a>
              <a class="nav-link ms-2" href="#2-2-3" data-section="2-2-3">2.2.3 Kvadratick√© funkce</a>
              <a class="nav-link ms-2" href="#2-2-4" data-section="2-2-4">2.2.4 Absolutn√≠ hodnota</a>
              <a class="nav-link ms-2" href="#2-2-5" data-section="2-2-5">2.2.5 SIN, COS, TANG</a>

              <a class="nav-link ms-1" href="#section2-3" data-section="section2-3">2.3 Prezentaƒçn√≠ software ‚Äì PowerPoint, Impress, Canva</a>
              <a class="nav-link ms-2" href="#section2-3-1" data-section="section2-3-1">2.3.1 Principy efektivn√≠ prezentace</a>
              <a class="nav-link ms-2" href="#section2-3-2" data-section="section2-3-2">2.3.2 Figma jako modern√≠ n√°stroj vizu√°ln√≠ prezentace</a>

              <a class="nav-link" href="#section3" data-section="section3">3 HTML: co to je, historie a prvn√≠ dokument</a>
              <a class="nav-link ms-1" href="#section3-1-1" data-section="section3-1-1">3.1.1 √övod do HTML, VS Code a nadpisov√° hierarchie</a>
              <a class="nav-link ms-1" href="#section3-1-2" data-section="section3-1-2">3.1.2 Odstavce a ‚Äûvoid‚Äú prvky: <code>&lt;p&gt;</code>, <code>&lt;br&gt;</code>, <code>&lt;hr&gt;</code></a>
              <a class="nav-link ms-1" href="#section3-1-3" data-section="section3-1-3">3.1.3 Seznamy v HTML + vno≈ôov√°n√≠ a odsazov√°n√≠ <code>&lt;ul&gt;</code>, <code>&lt;ol&gt;</code>, <code>&lt;li&gt;</code></a>
              <a class="nav-link ms-1" href="#section3-1-4" data-section="section3-1-4">3.1.4 Odkazy a obr√°zky v HTML <code>&lt;a&gt;</code>, <code>&lt;img&gt;</code></a>
              <a class="nav-link ms-1" href="#section3-1-5" data-section="section3-1-5">3.1.5 GitHub - nasazen√≠ projekt≈Ø na web</a>
              <a class="nav-link ms-1" href="#section3-1-6" data-section="section3-1-6">3.1.6 Z√°klady CSS</a>
              <a class="nav-link ms-1" href="#section3-1-7" data-section="section3-1-7">3.1.7 Z√°klady CSS (pokraƒçov√°n√≠)</a>
              <a class="nav-link ms-1" href="#section3-1-8" data-section="section3-1-8">3.1.8 Z√°kladn√≠ stavebn√≠ kameny CSS - selektory, vlastnosti, hodnoty</a>

              <a class="nav-link ms-1" href="#section3-3" data-section="section3-3">3.3 Ulo≈æen√≠ dat v prohl√≠≈æeƒçi ‚Äì localStorage, sessionStorage</a>
              <a class="nav-link ms-1" href="#section3-4" data-section="section3-4">3.4 JSON ‚Äì form√°t pro v√Ωmƒõnu dat</a>
              <a class="nav-link ms-1" href="#section3-5" data-section="section3-5">3.5 Vizualizace dat ‚Äì jednoduch√© grafy pomoc√≠ Chart.js</a>
              <a class="nav-link ms-1" href="#section3-6" data-section="section3-6">3.6 Pr√°ce s IndexedDB ‚Äì datab√°ze v prohl√≠≈æeƒçi</a>
              <a class="nav-link ms-1" href="#section3-7" data-section="section3-7">3.7 Naƒç√≠t√°n√≠ dat z API pomoc√≠ fetch</a>
              <a class="nav-link ms-1" href="#section3-8" data-section="section3-8">3.8 Jednoduch√Ω backend v Node.js ‚Äì Express a ukl√°d√°n√≠ dat</a>
              <a class="nav-link ms-1" href="#section3-9" data-section="section3-9">3.9 JSON jako datab√°ze ‚Äì simulace</a>
              <a class="nav-link ms-1" href="#section3-10" data-section="section3-10">3.10 Cloudov√© datab√°ze ‚Äì Firebase jako IS ≈°koly / podniku</a>

              <a class="nav-link" href="#section4-1-z√°klady-pythonu" data-section="section4-1-z√°klady-pythonu">4.1 Z√°klady programov√°n√≠ v Pythonu</a>
              <a class="nav-link ms-1" href="#section4-1-1" data-section="4-1-1">4.1.1 Promƒõnn√©, podm√≠nky a datov√© typy</a>
              <a class="nav-link ms-1" href="#section4-1-2" data-section="4-1-2">4.1.2 Jednoduch√° textov√° adventura (vƒõtven√≠ pomoc√≠ if)</a>
              <a class="nav-link ms-1" href="#section4-1-3" data-section="4-1-3">4.1.3 Samostatn√© cviƒçen√≠ ‚Äì mini-kv√≠z bez cykl≈Ø</a>
              <a class="nav-link ms-1" href="#section4-1-4" data-section="4-1-4">4.1.4 Podm√≠nky v praxi (BMI, spropitn√©)</a>
              <a class="nav-link ms-1" href="#section4-1-5" data-section="4-1-5">4.1.5 Z√°kladn√≠ podm√≠nky ‚Äì if/else a horsk√° dr√°ha</a>
              <a class="nav-link ms-1" href="#section4-1-6" data-section="4-1-6">4.1.6 Vno≈ôen√© podm√≠nky, v√≠ce vƒõtv√≠ a logick√© oper√°tory</a>
              <a class="nav-link ms-1" href="#section4-1-7final" data-section="4-1-7final">4.1.7 Final Project ‚Äì Treasure Island</a>
              <a class="nav-link ms-1" href="#section4-1-8test" data-section="4-1-8test">4.1.8 Z√°vƒõreƒçn√Ω test ‚Äì podm√≠nky, porovn√°n√≠ a logick√© oper√°tory</a>
              <a class="nav-link ms-1" href="#section4-2-1" data-section="4-2-1">4.2.1 Podm√≠nka while - tvorba menu</a>
              <a class="nav-link ms-1" href="#section4-2-2" data-section="4-2-2">4.2.2 Indexov√°n√≠ a ≈ôez√°n√≠ ≈ôetƒõzc≈Ø</a>
              <a class="nav-link ms-1" href="#section4-2-3final" data-section="4-2-3final">4.2.3 Final Project ‚Äì K√°men, n≈Ø≈æky, pap√≠r</a>
              <a class="nav-link ms-1" href="#section4-3-1for" data-section="4-3-1for">4.3.1 Cykly ‚Äì for a while</a>
              <a class="nav-link ms-1" href="#section4-3-2while" data-section="4-3-2while">4.3.2 Cyklus <code>while</code> ‚Äì podruh√©</a>
              <a class="nav-link ms-1" href="#section4-3-3" data-section="4-3-3">4.3.3 Menu a p≈ô√≠bƒõh pomoc√≠ vno≈ôen√Ωch <code>while</code></a>
              <a class="nav-link ms-1" href="#section4-4-1" data-section="4-4-1">4.4.1 Funkce krok za krokem</a>
              <a class="nav-link ms-1" href="#section4-4-2" data-section="4-4-2">4.4.2 Tvorba menu ‚Äì <code>for</code>, <code>while</code>, seznamy a ‚Äûdispatcher‚Äú</a>
              <a class="nav-link ms-1" href="#section4-4-3" data-section="4-4-3">4.4.3 Datov√© struktury: Listy, n-tice a vol√°n√≠ funkc√≠</a>

              <a class="nav-link" href="#section5" data-section="section5">5. Pr√°ce s daty a informaƒçn√≠ syst√©my</a>
              <a class="nav-link ms-1" href="#section5-1" data-section="section5-1">5.1 Vnit≈ôn√≠ stavba poƒç√≠taƒçe ‚Äì CPU, RAM, HDD, SSD</a>
              <a class="nav-link ms-1" href="#section5-2" data-section="section5-2">5.2 Vstupn√≠ a v√Ωstupn√≠ za≈ô√≠zen√≠</a>
              <a class="nav-link ms-1" href="#section5-3" data-section="section5-3">5.3 S√≠≈•ov√© komponenty ‚Äì router, switch, Wi-Fi</a>
              <a class="nav-link ms-1" href="#section5-4" data-section="section5-4">5.4 Instalace a konfigurace z√°kladn√≠ho hardwaru</a>
              <a class="nav-link ms-1" href="#section5-5" data-section="section5-5">5.5 Spr√°va syst√©mu a √∫dr≈æba (aktualizace, ovladaƒçe)</a>

              <a class="nav-link" href="#section6" data-section="section6">6. Internet, komunikace a bezpeƒçnost</a>
              <a class="nav-link ms-1" href="#section6-1" data-section="section6-1">6.1 Co je internet, IP adresa, DNS</a>
              <a class="nav-link ms-1" href="#section6-2" data-section="section6-2">6.2 Webov√© prohl√≠≈æeƒçe a vyhled√°vaƒçe</a>
              <a class="nav-link ms-1" href="#section6-3" data-section="section6-3">6.3 E-mail a digit√°ln√≠ komunikace</a>
              <a class="nav-link ms-1" href="#section6-4" data-section="section6-4">6.4 Z√°klady kybernetick√© bezpeƒçnosti (hesla, phishing)</a>
              <a class="nav-link ms-1" href="#section6-5" data-section="section6-5">6.5 Pr√°vn√≠ a etick√© aspekty ‚Äì GDPR, autorsk√Ω z√°kon, fake news</a>
              <a class="nav-link ms-1" href="#section6-6" data-section="section6-6">6.6 Z√°klady pr√°ce s VPN, dvouf√°zov√© ovƒõ≈ôen√≠, digit√°ln√≠ identita</a>

              <a class="nav-link ms-1" href="#section7-1-1" data-section="section7-1-1">7.1.1 Rastrov√° grafika (Lekce 1) ‚Äì GIMP</a>
              <a class="nav-link ms-1" href="#section7-1-2" data-section="section7-1-2">7.1.2 Vrstvy (Lekce 2) ‚Äì GIMP</a>
              <a class="nav-link ms-1" href="#section7-1-3" data-section="section7-1-3">7.1.3 Kol√°≈æ (Lekce 3) ‚Äì GIMP</a>
              <a class="nav-link ms-1" href="#section7-1-4" data-section="section7-1-4">7.1.4 Zmƒõna pozad√≠ (Lekce 4) ‚Äì GIMP</a>
              <a class="nav-link ms-1" href="#section7-1-5" data-section="section7-1-5">7.1.5 Rychl√° maska (Lekce 5) ‚Äì GIMP</a>
              <a class="nav-link ms-1" href="#section7-1-6" data-section="section7-1-6">7.1.6 V√Ωbƒõrov√© n√°stroje (Lekce 6) ‚Äì GIMP</a>
              <a class="nav-link ms-1" href="#section7-1-7" data-section="section7-1-7">7.1.7 Crop Tool (o≈ôez) (Lekce 7) ‚Äì GIMP</a>
              <a class="nav-link ms-1" href="#section7-1-8" data-section="section7-1-8">7.1.8 Barvy (Lekce 8) ‚Äì GIMP</a>

              <a class="nav-link ms-1" href="#section8-1-1" data-section="section8-1-1">8.1.1 Blender ‚Äì Kapitola 1: Co znamen√° modelovat</a>
              <!-- ===== /NAV ===== -->

            </nav>
          </div>
        </div>
      </aside>

      <!-- Hlavn√≠ obsah -->
      <main id="scrollspyContent"
        class="col-12 col-md-9"
        role="main"
        aria-label="Obsah dokumentace"
        tabindex="0"
        data-bs-spy="scroll"
        data-bs-target="#docNav"
        data-bs-offset="10">
        <div id="content"></div>
      </main>

    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    (() => {
      const html = document.documentElement;

      // ---------- Helper: v√Ω≈°ky pro sticky + scroll ----------
      const siteNavbar = document.getElementById('siteNavbar');
      const docToolbar = document.getElementById('docToolbar');
      const scrollspyContent = document.getElementById('scrollspyContent');

      function updateHeights() {
        const navH = siteNavbar?.offsetHeight || 56;
        const toolH = docToolbar?.offsetHeight || 52;
        html.style.setProperty('--site-nav-h', navH + 'px');
        html.style.setProperty('--doc-toolbar-h', toolH + 'px');
      }
      window.addEventListener('resize', updateHeights, { passive: true });
      window.addEventListener('load', updateHeights);
      updateHeights();

      // ---------- Theme: auto / dark / light (Bootstrap 5.3 data-bs-theme) ----------
      const THEME_KEY = 'preferredTheme';
      const themeToggleBtn = document.getElementById('themeToggleBtn');
      const mqlDark = window.matchMedia('(prefers-color-scheme: dark)');

      function iconFor(mode) {
        if (mode === 'auto') return 'üåó';
        if (mode === 'dark') return 'üåô';
        return '‚òÄÔ∏è';
      }

      function applyTheme(mode) {
        // mode: auto|dark|light
        localStorage.setItem(THEME_KEY, mode);
        themeToggleBtn.textContent = iconFor(mode);

        const effective = (mode === 'auto') ? (mqlDark.matches ? 'dark' : 'light') : mode;
        html.setAttribute('data-bs-theme', effective);
      }

      function getSavedTheme() {
        return localStorage.getItem(THEME_KEY) || 'auto';
      }

      // Reaguj na zmƒõnu syst√©mu, jen pokud jsme v auto re≈æimu
      mqlDark.addEventListener?.('change', () => {
        if (getSavedTheme() === 'auto') applyTheme('auto');
      });

      applyTheme(getSavedTheme());

      themeToggleBtn.addEventListener('click', () => {
        const current = getSavedTheme();
        const next = (current === 'auto') ? 'dark' : (current === 'dark') ? 'light' : 'auto';
        applyTheme(next);
      });

      // ---------- Jedna navigace + responsive collapse ----------
      const navCollapseEl = document.getElementById('docNavCollapse');
      const navCollapse = bootstrap.Collapse.getOrCreateInstance(navCollapseEl, { toggle: false });
      const desktopMql = window.matchMedia('(min-width: 768px)');

      function syncNavToViewport() {
        if (desktopMql.matches) navCollapse.show();
        else navCollapse.hide();
      }
      desktopMql.addEventListener?.('change', syncNavToViewport);
      syncNavToViewport();

      // ---------- Vyhled√°v√°n√≠ v menu (jedno pole) ----------
      const searchInput = document.getElementById('navSearch');
      const clearSearchBtn = document.getElementById('clearSearchBtn');
      const navLinks = Array.from(document.querySelectorAll('#docNav a.nav-link'));

      function levelOf(link) {
        if (link.classList.contains('ms-2')) return 2;
        if (link.classList.contains('ms-1')) return 1;
        return 0;
      }

      function filterNav(query) {
        const q = (query || '').trim().toLowerCase();
        clearSearchBtn.disabled = !q;

        if (!q) {
          navLinks.forEach(a => a.style.display = '');
          refreshScrollSpy();
          return;
        }

        const levels = navLinks.map(levelOf);
        const matches = navLinks.map(a => a.textContent.toLowerCase().includes(q));

        // Zachovej kontext: pokud matchne d√≠tƒõ, uka≈æ i rodiƒçe (√∫rovnƒõ 0..n-1)
        const visible = new Array(navLinks.length).fill(false);
        const lastAtLevel = [];

        for (let i = 0; i < navLinks.length; i++) {
          const lvl = levels[i];
          lastAtLevel[lvl] = i;

          if (matches[i]) {
            visible[i] = true;
            for (let up = lvl - 1; up >= 0; up--) {
              const idx = lastAtLevel[up];
              if (typeof idx === 'number') visible[idx] = true;
            }
          }
        }

        navLinks.forEach((a, i) => {
          a.style.display = visible[i] ? '' : 'none';
        });

        // Na mobilu p≈ôi hled√°n√≠ menu automaticky otev≈ôi
        if (!desktopMql.matches) navCollapse.show();

        refreshScrollSpy();
      }

      searchInput.addEventListener('input', () => filterNav(searchInput.value));

      clearSearchBtn.addEventListener('click', () => {
        searchInput.value = '';
        filterNav('');
        // volitelnƒõ: na mobilu po vymaz√°n√≠ zase zav≈ô√≠t
        if (!desktopMql.matches) navCollapse.hide();
        scrollspyContent.scrollTo({ top: 0, behavior: 'smooth' });
      });

      // default: clear tlaƒç√≠tko aktivn√≠ jen kdy≈æ je co mazat
      clearSearchBtn.disabled = true;

      // ---------- Klik na polo≈æku menu: smooth scroll + na mobilu zav≈ôi ----------
      navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
          const href = link.getAttribute('href') || '';
          if (!href.startsWith('#')) return;

          e.preventDefault();
          const id = href.slice(1);
          const target = document.getElementById(id);
          if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });

          if (!desktopMql.matches) navCollapse.hide();
        });
      });

      // ---------- ScrollSpy (bootstrap) ----------
      function refreshScrollSpy() {
        const existing = bootstrap.ScrollSpy.getInstance(scrollspyContent);
        if (existing) existing.refresh();
      }

      // Inicializace scrollspy a≈æ po naƒçten√≠ (kv≈Øli routeru/dynamick√©mu obsahu)
      window.addEventListener('load', () => {
        bootstrap.ScrollSpy.getOrCreateInstance(scrollspyContent, {
          target: '#docNav'
        });
        refreshScrollSpy();
      });

      // Pokud router dopl≈àuje obsah pozdƒõji, m≈Ø≈æe≈° z nƒõj vyvolat:
      // document.dispatchEvent(new Event('content:updated'));
      document.addEventListener('content:updated', () => {
        refreshScrollSpy();
      });

    })();
  </script>

  <!-- Tvoje extern√≠ skripty nech√°v√°m -->
  <script src="/learn.jankonrad.com/js/copy.js"></script>
  <script src="./fullsreenImg.js"></script>
  <script src="./js/router.js"></script>
  <script src="./js/testy.js"></script>
  <script src="./js/progGame.js"></script>
  <script src="/learn.jankonrad.com/js/progsim1-2.js"></script>
  <script src="/learn.jankonrad.com/js/progsim3.js"></script>
  <script src="./js/Fce.js"></script>
  <script src="/learn.jankonrad.com/js/imgViewer.js"></script>
  <script src="/learn.jankonrad.com/js/Scripts/3-3-2.js"></script>

  <script>
    function runSimTip() {
      const bill = parseFloat(document.getElementById('tipBill')?.value || '0');
      const pct  = parseFloat(document.getElementById('tipPct')?.value  || '0');
      const ppl  = Math.max(1, parseInt(document.getElementById('tipPeople')?.value || '1'));

      if (bill < 0 || pct < 0) {
        const el = document.getElementById('tipResult');
        if (el) el.textContent = "Zadej nez√°porn√© hodnoty.";
        return;
      }
      const total = bill * (1 + pct / 100);
      const share = total / ppl;

      const out = document.getElementById('tipResult');
      if (out) {
        out.textContent = `Ka≈æd√Ω zaplat√≠: ${share.toFixed(2)} Kƒç\n(Celkem: ${total.toFixed(2)} Kƒç; Osob: ${ppl})`;
      }
    }
  </script>

</body>
</html>
