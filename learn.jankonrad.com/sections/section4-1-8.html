<!-- =========================================================
     4.1.7â€“8 FUNKCE + PROJEKT: KALKULAÄŒKA
     ========================================================= -->
<section id="section4-1-7-8" class="container my-5">
  <style>
    .tip{border-left:4px solid #0d6efd;background:#f8f9fa;padding:.75rem 1rem}
    .warn{border-left:4px solid #dc3545;background:#fff5f5;padding:.75rem 1rem}
    .ok{border-left:4px solid #198754;background:#f6fff8;padding:.75rem 1rem}
    .mono{font-family:ui-monospace,Menlo,Consolas,monospace}
    pre code{white-space:pre}
  </style>

  <h3 class="mb-3">4.1.7â€“8 Funkce krok za krokem â†’ Projekt: KalkulaÄka</h3>
  <p class="lead">
    NauÄÃ­Å¡ se vytvÃ¡Å™et a pouÅ¾Ã­vat funkce â€“ od nejjednoduÅ¡Å¡Ã­ch po sloÅ¾enÃ½ projekt kalkulaÄky.  
    KaÅ¾dÃ½ krok navazuje na pÅ™edchozÃ­ a pÅ™idÃ¡vÃ¡ novÃ½ prvek: parametry, nÃ¡vratovÃ© hodnoty, bezpeÄnÃ½ vstup a prÃ¡ci s menu.
  </p>

  <div class="accordion" id="acc-funkce">

    <!-- 1) Definice a volÃ¡nÃ­ -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f1h">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#f1" aria-expanded="true">
          1ï¸âƒ£ Definice a volÃ¡nÃ­ funkce
        </button>
      </h2>
      <div id="f1" class="accordion-collapse collapse show" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python">def pozdrav():
    print("ahoj")

pozdrav()

# Ãškol: vytvoÅ™ funkci, kterÃ¡ vypÃ­Å¡e "Program bÄ›Å¾Ã­" dvakrÃ¡t
def info():
    print("Program bÄ›Å¾Ã­")

info()
info()</code></pre>
          <div class="tip">Funkci nejdÅ™Ã­ve <b>definujeÅ¡</b> (<code>def ...</code>), pak ji <b>volÃ¡Å¡</b> pomocÃ­ zÃ¡vorek <code>()</code>.</div>
        </div>
      </div>
    </div>

    <!-- 2) Parametry a argumenty -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f2h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f2">
          2ï¸âƒ£ Parametry a argumenty
        </button>
      </h2>
      <div id="f2" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python">def soucet(a, b):
    print(a + b)

soucet(2, 3)

# Ãškol: vytvoÅ™ funkci, kterÃ¡ vypÃ­Å¡e jmÃ©no a vÄ›k
def pozdrav(jmeno, vek):
    print(f"Ahoj: {jmeno}\nVÄ›k: {vek}")

pozdrav("Jan", 30)</code></pre>
          <ul>
            <li><b>Parametry</b> jsou promÄ›nnÃ© v definici funkce.</li>
            <li><b>Argumenty</b> jsou skuteÄnÃ© hodnoty pÅ™i volÃ¡nÃ­.</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- 3) NÃ¡vratovÃ¡ hodnota -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f3h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f3">
          3ï¸âƒ£ NÃ¡vratovÃ¡ hodnota â€“ <code>return</code>
        </button>
      </h2>
      <div id="f3" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python">def soucet(a, b):
    return a + b

priklad1 = soucet(5, 7)
priklad2 = soucet(10, 15)
vysledek = priklad1 + priklad2
print(vysledek)

# Ãškol: funkce, kterÃ¡ vrÃ¡tÃ­ vÄ›k uÅ¾ivatele
vek = input("Zadejte vÃ¡Å¡ vÄ›k: ")

def vrat_vek(vek):
    return vek

vek_uzivatele = vrat_vek(vek)
print(f"VÄ›k: {vek_uzivatele}")</code></pre>
          <div class="ok"><code>print()</code> zobrazuje, <code>return</code> vracÃ­ vÃ½sledek â€“ ten mÅ¯Å¾eÅ¡ uloÅ¾it, pouÅ¾Ã­t dÃ¡l.</div>
        </div>
      </div>
    </div>

    <!-- 4) Funkce jako objekty -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f4h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f4">
          4ï¸âƒ£ Funkce jako objekty (hodnoty)
        </button>
      </h2>
      <div id="f4" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python">def soucet(a,b): return a + b
def rozdil(a,b): return a - b

Soucet = soucet
Rozdil = rozdil

print(Soucet(10,5))
print(Rozdil(10,5))

# Ãškol: uloÅ¾ funkci rozdil pod jinÃ½ nÃ¡zev a zavolej ji
NovaFunkce = rozdil
print(NovaFunkce(20,8))</code></pre>
          <div class="tip">Tento princip vyuÅ¾ijeme pÅ™i tvorbÄ› menu kalkulaÄky â€“ funkce uloÅ¾Ã­me do â€poleâ€œ a volÃ¡me podle vÃ½bÄ›ru uÅ¾ivatele.</div>
        </div>
      </div>
    </div>

    <!-- 5) BezpeÄnÃ© naÄÃ­tÃ¡nÃ­ ÄÃ­sel -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f5h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f5">
          5ï¸âƒ£ BezpeÄnÃ© naÄÃ­tÃ¡nÃ­ ÄÃ­sla (try/except)
        </button>
      </h2>
      <div id="f5" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python">def nacti_cislo():
    while True:
        try:
            return int(input("Zadejte ÄÃ­slo: "))
        except ValueError:
            print("Tohle nenÃ­ celÃ© ÄÃ­slo, zkuste to znovu.")

cislo = nacti_cislo()
print(f"Zadal jsi: {cislo}")</code></pre>
          <div class="ok">Funkce se sama opakuje, dokud uÅ¾ivatel nezadÃ¡ platnÃ© ÄÃ­slo.</div>
        </div>
      </div>
    </div>

    <!-- 6) NaÄtenÃ­ dvou ÄÃ­sel -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f6h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f6">
          6ï¸âƒ£ NaÄtenÃ­ dvou ÄÃ­sel pomocÃ­ <code>nacti_cislo()</code>
        </button>
      </h2>
      <div id="f6" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python">def nacti_dve_cisla():
    print("NaÄteme dvÄ› ÄÃ­sla:")
    a = nacti_cislo()
    b = nacti_cislo()
    return a, b

x, y = nacti_dve_cisla()
print("Zadal jsi:", x, "a", y)
print("SouÄet je:", x + y)</code></pre>
          <div class="ok">VracÃ­me dvojici (<code>a,b</code>) a rozbalÃ­me ji do dvou promÄ›nnÃ½ch (<code>x, y</code>).</div>
        </div>
      </div>
    </div>

    <!-- 7) Projekt: KalkulaÄka s funkcemi -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f7h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f7">
          7ï¸âƒ£ Projekt: KalkulaÄka s funkcemi a polem voleb
        </button>
      </h2>
      <div id="f7" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python"># Operace â€“ vÅ¡echny vracÃ­ ÄÃ­slo
def soucet(a,b): return a + b
def rozdil(a,b): return a - b
def soucin(a,b): return a * b
def podil(a,b):  return a / b

# Pole voleb (klÃ­Ä, nÃ¡zev, funkce)
VOLBY = [
    ("1", "SÄÃ­tÃ¡nÃ­",  soucet),
    ("2", "OdÄÃ­tÃ¡nÃ­", rozdil),
    ("3", "NÃ¡sobenÃ­", soucin),
    ("4", "DÄ›lenÃ­",   podil),
    ("5", "Konec",    None)
]

# PÅ™evod na slovnÃ­k = dispatcher
DISPATCH = {klic: (nazev, fn) for klic, nazev, fn in VOLBY}

def vypis_menu():
    print("====== KalkulaÄka ======")
    for klic, nazev, _ in VOLBY:
        print(f"{klic}) {nazev}")

def kalkulacka():
    print("KalkulaÄka je spuÅ¡tÄ›na.")
    while True:
        vypis_menu()
        volba = input("Zadejte moÅ¾nost: ").strip()
        if volba not in DISPATCH:
            print("NeplatnÃ¡ volba, zkuste to znovu.")
            continue

        nazev, fn = DISPATCH[volba]

        if fn is None:
            print("Konec kalkulaÄky.")
            break

        a, b = nacti_dve_cisla()

        if fn is podil and b == 0:
            print("Chyba: nelze dÄ›lit nulou!")
            continue

        vysledek = fn(a, b)
        print(f"{nazev} {a} a {b} = {vysledek}")

def hlavni_menu():
    while True:
        print("===== HlavnÃ­ menu =====")
        print("1) Spustit kalkulaÄku")
        print("2) Konec programu")
        volba = input("Zadejte moÅ¾nost: ").strip()
        if volba == "1":
            kalkulacka()
        elif volba == "2":
            print("UkonÄuji program.")
            break
        else:
            print("NeplatnÃ¡ volba.")

if __name__ == "__main__":
    hlavni_menu()</code></pre>
          <div class="ok">CelÃ½ program teÄ pouÅ¾Ã­vÃ¡ vÅ¡echny principy: funkce, parametry, nÃ¡vraty, bezpeÄnÃ© vstupy, menu i dispatcher.</div>
        </div>
      </div>
    </div>

  </div>

  <div class="card mt-4">
    <div class="card-body">
      <h5 class="card-title">ğŸ¯ ShrnutÃ­ a Ãºkoly</h5>
      <ul>
        <li>UmÃ­Å¡ vytvÃ¡Å™et <b>funkce</b> s parametry a nÃ¡vratem.</li>
        <li>RozumÃ­Å¡ <b>try/except</b> a bezpeÄnÃ©mu naÄÃ­tÃ¡nÃ­ vstupÅ¯.</li>
        <li>DokÃ¡Å¾eÅ¡ vytvoÅ™it program z <b>vÃ­ce funkÄnÃ­ch ÄÃ¡stÃ­</b>.</li>
      </ul>
      <ol>
        <li>PÅ™idej funkci <code>mocnina(a,b)</code> a poloÅ¾ku menu 6) Mocnina.</li>
        <li>ZmÄ›Åˆ operace, aby pouÅ¾Ã­valy <code>float</code> mÃ­sto <code>int</code>.</li>
        <li>PÅ™idej pamÄ›Å¥: uloÅ¾ poslednÃ­ vÃ½sledek a nabÃ­dni jeho znovupouÅ¾itÃ­.</li>
      </ol>
    </div>
  </div>
</section>
