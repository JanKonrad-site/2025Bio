<!-- =========================================================
     4.1.7 Funkce krok za krokem â€“ pÅ™Ã­prava na kalkulaÄku
     ========================================================= -->
<section id="section4-1-7" class="container my-5">
  <style>
    .tip{border-left:4px solid #0d6efd;background:#f8f9fa;padding:.75rem 1rem}
    .warn{border-left:4px solid #dc3545;background:#fff5f5;padding:.75rem 1rem}
    .ok{border-left:4px solid #198754;background:#f6fff8;padding:.75rem 1rem}
    .mono{font-family:ui-monospace,Menlo,Consolas,monospace}
    pre code{white-space:pre}
  </style>

  <h3 class="mb-3">4.1.7 Funkce krok za krokem â€“ od volÃ¡nÃ­ po bezpeÄnÃ© naÄÃ­tÃ¡nÃ­ vstupÅ¯</h3>
  <p class="lead">Jdeme pÅ™esnÄ› po tvÃ© metodice. KaÅ¾dÃ½ krok: krÃ¡tkÃ½ kÃ³d â†’ proÄ to funguje â†’ mini-Ãºkol. Na konci umÃ­Å¡ bezpeÄnÄ› naÄÃ­st ÄÃ­sla pro kalkulaÄku.</p>

  <div class="accordion" id="acc-funkce">

    <!-- 1) Definice a volÃ¡nÃ­ -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f1h">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#f1" aria-expanded="true">
          1) Definice a volÃ¡nÃ­ funkce (ÃºplnÃ½ zÃ¡klad)
        </button>
      </h2>
      <div id="f1" class="accordion-collapse collapse show" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python"># 1) Definice a volÃ¡nÃ­ funkce â€“ vytvoÅ™enÃ­ jednoduchÃ© funkce pozdrav
def pozdrav():
    print("ahoj")

pozdrav()

# Ãškol k 1: VytvoÅ™te funkci, kterÃ¡ vypÃ­Å¡e "Program bÄ›Å¾Ã­" 2x
def info():
    print("Program bÄ›Å¾Ã­")

info()
info()</code></pre>
          <ul class="mb-2">
            <li><span class="mono">def pozdrav():</span> je <b>definice</b> (vznik â€krabiÄkyâ€œ).</li>
            <li><span class="mono">pozdrav()</span> je <b>volÃ¡nÃ­</b> (zÃ¡vorky = spuÅ¡tÄ›nÃ­ kÃ³du uvnitÅ™).</li>
          </ul>
          <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#m-def-vs-call">Definice Ã— volÃ¡nÃ­ (polopatÄ›)</button>
        </div>
      </div>
    </div>

    <!-- 2) Parametry a argumenty -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f2h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f2">
          2) Parametry Ã— argumenty (posÃ­lÃ¡nÃ­ hodnot do funkce)
        </button>
      </h2>
      <div id="f2" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python"># 2) parametry & argumenty 
def soucet(a, b):
    print(a + b)

soucet(2, 3)

# CviÄenÃ­ k 2: VytvoÅ™te funkci, kterÃ¡ vypÃ­Å¡e vÄ›k a jmÃ©no uÅ¾ivatele
def pozdrav(jmeno, vek):
    print(f"Ahoj: {jmeno}\nVÄ›k: {vek}")

pozdrav("Jan", 30)</code></pre>
          <ul class="mb-2">
            <li><b>Parametry</b> (a, b / jmÃ©no, vÄ›k) jsou Å¡katulky v hlaviÄce funkce.</li>
            <li><b>Argumenty</b> (2, 3 / "Jan", 30) jsou konkrÃ©tnÃ­ hodnoty pÅ™i volÃ¡nÃ­.</li>
          </ul>
          <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#m-params-args">Parametry vs. argumenty</button>
        </div>
      </div>
    </div>

    <!-- 3) NÃ¡vratovÃ¡ hodnota -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f3h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f3">
          3) NÃ¡vratovÃ¡ hodnota: <code>return</code> (ne vÅ¾dy chci hned tisknout)
        </button>
      </h2>
      <div id="f3" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python"># 3) nÃ¡vratovÃ¡ hodnota
def soucet(a, b):
    return a + b

priklad1 = soucet(5, 7)
priklad2 = soucet(10, 15)
vysledek = priklad1 + priklad2
print(vysledek)

# CviÄenÃ­ k 3:
# VytvoÅ™te promÄ›nnou do kterÃ© uloÅ¾Ã­me vstup uÅ¾ivatele.
# Tento vstup vloÅ¾Ã­me jako parametr do funkce, kterÃ¡ vrÃ¡tÃ­ vÄ›k uÅ¾ivatele a vypiÅ¡te ho.
vek = input("Zadejte vÃ¡Å¡ vÄ›k: ")

def vrat_vek(vek):
    return vek

vek_uzivatele = vrat_vek(vek)
print(f"VÄ›k: {vek_uzivatele}")</code></pre>
          <ul class="mb-2">
            <li><span class="mono">return</span> vracÃ­ data volajÃ­cÃ­mu (mÅ¯Å¾u je uklÃ¡dat/poÄÃ­tat/testovat).</li>
            <li><span class="mono">print()</span> jen zobrazÃ­ â€“ nic â€nepÅ™edÃ¡â€œ dÃ¡l.</li>
            <li><span class="mono">input()</span> vracÃ­ <b>text (str)</b>. U kalkulaÄky budeme pÅ™evÃ¡dÄ›t na ÄÃ­sla, ale to pÅ™ijde v krocÃ­ch 5â€“6.</li>
          </ul>
          <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#m-return-vs-print">ProÄ <code>return</code> Ã— <code>print</code>?</button>
        </div>
      </div>
    </div>

    <!-- 4) Funkce jako objekty (hodnoty) -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f4h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f4">
          4) Funkce jako hodnota (objekt): uloÅ¾it a zavolat pozdÄ›ji
        </button>
      </h2>
      <div id="f4" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python"># 4) Funkce jako objekty
def soucet(a,b):
    return a + b

def rozdil(a,b):
    return a - b

Soucet = soucet   # uloÅ¾Ã­m odkaz (bez zÃ¡vorek!)
Rozdil = rozdil

print(Soucet(10,5))
print(Rozdil(10,5))

# CviÄenÃ­ k 4) uloÅ¾ si funkci rozdil pod jinÃ½ nÃ¡zev a zavolej ji.
def rozdil(a,b):
    return a - b

Rozdil = rozdil
print(Rozdil(20,8))</code></pre>
          <p>Tuhle schopnost (uloÅ¾it â€kontaktâ€œ na funkci) vyuÅ¾ijeme pÅ™i vÃ½bÄ›ru operace v kalkulaÄce.</p>
          <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#m-func-as-value">Funkce jako hodnota â€“ pÅ™irovnÃ¡nÃ­</button>
        </div>
      </div>
    </div>

    <!-- 5) BezpeÄnÃ© naÄÃ­tÃ¡nÃ­ vstupÅ¯ -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f5h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f5">
          5) BezpeÄnÃ© naÄÃ­tÃ¡nÃ­ ÄÃ­sla: <code>try</code> / <code>except ValueError</code>
        </button>
      </h2>
      <div id="f5" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python"># 5) Funkce, kterÃ¡ naÄÃ­tÃ¡ ÄÃ­slo a oÅ¡etÅ™uje vstupy uÅ¾ivatele pÅ™es try a except
def nacti_cislo():
    while True:
        try:
            return int(input("Zadejte ÄÃ­slo: "))
        except ValueError:
            print("Tohle nenÃ­ celÃ© ÄÃ­slo.")

nacti_cislo()</code></pre>
          <ul class="mb-2">
            <li><span class="mono">try</span>: pokus o pÅ™evod na <span class="mono">int</span>.</li>
            <li><span class="mono">except ValueError</span>: kdyÅ¾ to nejde (uÅ¾ivatel zadal napÅ™. â€ahojâ€œ), sluÅ¡nÄ› poÅ¾Ã¡dej znovu.</li>
            <li><span class="mono">while True</span>: opakuj dotaz, dokud nemÃ¡m validnÃ­ ÄÃ­slo.</li>
          </ul>
          <div class="ok mb-2">Mini-Ãºkol k 5: uloÅ¾ si vÃ½sledek do promÄ›nnÃ© a vytiskni ho.</div>
<pre><code class="language-python">def nacti_cislo():
    while True:
        try:
            return int(input("Zadejte ÄÃ­slo: "))
        except ValueError:
            print("Tohle nenÃ­ celÃ© ÄÃ­slo.")

cislo_uzivatele = nacti_cislo()
print(f"ZadanÃ© ÄÃ­slo je: {cislo_uzivatele}")</code></pre>
          <div class="d-flex flex-wrap gap-2">
            <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#m-try-except">Jak pÅ™esnÄ› funguje try/except?</button>
            <button class="btn btn-sm btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#m-while-flow">Co dÄ›lÃ¡ while v tomhle vzoru?</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 6) NaÄÃ­st dvÄ› ÄÃ­sla pomocÃ­ pÅ™edchozÃ­ funkce -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="f6h">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#f6">
          6) <b>DvÄ› ÄÃ­sla</b> znovupouÅ¾itÃ­m <code>nacti_cislo()</code> + nÃ¡vrat dvojice
        </button>
      </h2>
      <div id="f6" class="accordion-collapse collapse" data-bs-parent="#acc-funkce">
        <div class="accordion-body">
<pre><code class="language-python"># 6) Funkce, kterÃ¡ naÄÃ­tÃ¡ dvÄ› ÄÃ­sla pomocÃ­ pÅ™edchozÃ­ funkce
# (TOHLE si podrobnÄ› vysvÄ›tlÃ­me v modÃ¡lu nÃ­Å¾e)
def nacti_dve_cisla():
    print("NaÄteme dvÄ› ÄÃ­sla:")
    a = nacti_cislo()
    b = nacti_cislo()
    return a, b

x, y = nacti_dve_cisla()
print("Zadal jsi:", x, "a", y)
print("SouÄet je:", x + y)</code></pre>
          <ul class="mb-2">
            <li>Funkce znovupouÅ¾Ã­vÃ¡ <span class="mono">nacti_cislo()</span> â€“ Å¾Ã¡dnÃ© kopÃ­rovÃ¡nÃ­ kÃ³du!</li>
            <li><span class="mono">return a, b</span> vracÃ­ <b>dvojici</b> (n-tici), kterou â€rozbalÃ­meâ€œ do <span class="mono">x, y</span>.</li>
          </ul>
          <div class="tip mb-2"><b>Mini-Ãºkol k 6:</b> VypiÅ¡ kromÄ› souÄtu i rozdÃ­l, souÄin a bezpeÄnÃ© dÄ›lenÃ­ (pokud <span class="mono">y != 0</span>).</div>
          <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#m-two-nums">ProÄ to funguje? (rozbalenÃ­ nÃ¡vratu, znovupouÅ¾itÃ­)</button>
        </div>
      </div>
    </div>

  </div>

  <!-- ShrnutÃ­ -->
  <div class="card mt-4">
    <div class="card-body">
      <h5 class="card-title">ğŸ”š ShrnutÃ­ pro kalkulaÄku</h5>
      <ul class="mb-0">
        <li>UmÃ­me <b>definovat</b> a <b>volat</b> funkce.</li>
        <li>RozumÃ­me <b>parametrÅ¯m</b> a <b>argumentÅ¯m</b>.</li>
        <li>VÃ­me, kdy pouÅ¾Ã­t <b>return</b> a kdy <b>print</b>.</li>
        <li>UmÃ­me <b>bezpeÄnÄ› naÄÃ­st ÄÃ­sla</b> (s <span class="mono">try/except ValueError</span>).</li>
        <li>UmÃ­me vracet <b>dvojici</b> (a rozbalit ji do dvou promÄ›nnÃ½ch).</li>
      </ul>
      <div class="ok mt-2">V dalÅ¡Ã­ kapitole tyto funkce rovnou pouÅ¾ijeme v <b>kalkulaÄce s menu</b>.</div>
    </div>
  </div>
</section>

<!-- ===================== MODÃLY â€“ podrobnÃ© vysvÄ›tlivky ===================== -->

<!-- Definice vs volÃ¡nÃ­ -->
<div class="modal fade" id="m-def-vs-call" tabindex="-1" aria-labelledby="m-def-vs-callLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered"><div class="modal-content">
    <div class="modal-header"><h5 id="m-def-vs-callLabel" class="modal-title">Definice Ã— volÃ¡nÃ­ (na prstech)</h5>
      <button class="btn-close" data-bs-dismiss="modal"></button></div>
    <div class="modal-body">
      Definice = vznikne â€krabiÄkaâ€œ (ale nic se nespustÃ­). VolÃ¡nÃ­ = krabiÄku skuteÄnÄ› pouÅ¾ijeÅ¡.  
      <span class="mono">pozdrav</span> (bez zÃ¡vorek) je <em>odkaz</em> na funkci, <span class="mono">pozdrav()</span> ji <em>spouÅ¡tÃ­</em>.
    </div>
  </div></div>
</div>

<!-- Parametry vs argumenty -->
<div class="modal fade" id="m-params-args" tabindex="-1" aria-labelledby="m-params-argsLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered"><div class="modal-content">
    <div class="modal-header"><h5 id="m-params-argsLabel" class="modal-title">Parametry vs. argumenty</h5>
      <button class="btn-close" data-bs-dismiss="modal"></button></div>
    <div class="modal-body">
<pre><code class="language-python">def plus(a, b):  # a, b = parametry
    return a + b

plus(2, 3)       # 2, 3 = argumenty</code></pre>
      Parametry = â€Å¡katulkyâ€œ, argumenty = â€co do Å¡katulek vloÅ¾Ã­m pÅ™i volÃ¡nÃ­â€œ.
    </div>
  </div></div>
</div>

<!-- return vs print -->
<div class="modal fade" id="m-return-vs-print" tabindex="-1" aria-labelledby="m-return-vs-printLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered"><div class="modal-content">
    <div class="modal-header"><h5 id="m-return-vs-printLabel" class="modal-title">ProÄ radÄ›ji <code>return</code> neÅ¾ <code>print</code> u vÃ½poÄtÅ¯?</h5>
      <button class="btn-close" data-bs-dismiss="modal"></button></div>
    <div class="modal-body">
      <ul>
        <li><b>return</b> vracÃ­ data â€“ mÅ¯Å¾u je uloÅ¾it, poslat dÃ¡l, testovat.</li>
        <li><b>print</b> jen zobrazÃ­ â€“ data dÃ¡l uÅ¾ nemÃ¡m.</li>
      </ul>
    </div>
  </div></div>
</div>

<!-- Funkce jako hodnota -->
<div class="modal fade" id="m-func-as-value" tabindex="-1" aria-labelledby="m-func-as-valueLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered"><div class="modal-content">
    <div class="modal-header"><h5 id="m-func-as-valueLabel" class="modal-title">Funkce jako hodnota (kontakt)</h5>
      <button class="btn-close" data-bs-dismiss="modal"></button></div>
    <div class="modal-body">
      JmÃ©no funkce bez zÃ¡vorek je jako kontakt v telefonu. MÅ¯Å¾eÅ¡ ho uloÅ¾it a â€zavolatâ€œ aÅ¾ pozdÄ›ji:  
<pre><code class="language-python">def zdr():
    print("Ahoj")

k = zdr   # uloÅ¾enÃ½ kontakt
k()       # teprve teÄ volÃ¡m</code></pre>
    </div>
  </div></div>
</div>

<!-- try/except detail -->
<div class="modal fade" id="m-try-except" tabindex="-1" aria-labelledby="m-try-exceptLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered"><div class="modal-content">
    <div class="modal-header"><h5 id="m-try-exceptLabel" class="modal-title">Jak pÅ™esnÄ› funguje <code>try</code> / <code>except ValueError</code>?</h5>
      <button class="btn-close" data-bs-dismiss="modal"></button></div>
    <div class="modal-body">
      V bloku <code>try</code> zkusÃ­Å¡ â€nebezpeÄnÃ½â€œ kÃ³d (<code>int(input(...))</code>).  
      KdyÅ¾ se nepovede (uÅ¾ivatel zadÃ¡ napÅ™. â€ahojâ€œ), Python hodÃ­ vÃ½jimku <code>ValueError</code> â†’ skoÄÃ­ do <code>except</code> a vypÃ­Å¡e zprÃ¡vu.  
      SmyÄka <code>while True</code> zajistÃ­, Å¾e se <em>zopakujeme</em>, dokud to nebude ÄÃ­slo.
    </div>
  </div></div>
</div>

<!-- while flow -->
<div class="modal fade" id="m-while-flow" tabindex="-1" aria-labelledby="m-while-flowLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered"><div class="modal-content">
    <div class="modal-header"><h5 id="m-while-flowLabel" class="modal-title">Co dÄ›lÃ¡ while v <code>nacti_cislo()</code>?</h5>
      <button class="btn-close" data-bs-dismiss="modal"></button></div>
    <div class="modal-body">
      Cyklus bÄ›Å¾Ã­ poÅ™Ã¡d. KdyÅ¾ se pÅ™evod povede, <code>return</code> funkci ukonÄÃ­ a ÄÃ­slo vrÃ¡tÃ­.  
      KdyÅ¾ ne, <code>except</code> zobrazÃ­ zprÃ¡vu a smyÄka se ptÃ¡ znovu.
    </div>
  </div></div>
</div>

<!-- nacti_dve_cisla â€“ proÄ to funguje -->
<div class="modal fade" id="m-two-nums" tabindex="-1" aria-labelledby="m-two-numsLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered"><div class="modal-content">
    <div class="modal-header"><h5 id="m-two-numsLabel" class="modal-title">ProÄ <code>nacti_dve_cisla()</code> funguje a co je rozbalovÃ¡nÃ­?</h5>
      <button class="btn-close" data-bs-dismiss="modal"></button></div>
    <div class="modal-body">
      <ul>
        <li><b>ZnovupouÅ¾itÃ­</b>: mÃ­sto psanÃ­ dvoukrÃ¡t stejnÃ©ho kÃ³du volÃ¡me <code>nacti_cislo()</code> dvakrÃ¡t.</li>
        <li><b>NÃ¡vrat dvojice</b>: <code>return a, b</code> vracÃ­ n-tici. Python ji umÃ­ â€rozbalitâ€œ: <code>x, y = nacti_dve_cisla()</code>.</li>
        <li>TÃ­m mÃ¡me <b>obÄ› ÄÃ­sla</b> pÅ™ipravenÃ¡ pro sÄÃ­tÃ¡nÃ­/odÄÃ­tÃ¡nÃ­/nÃ¡sobenÃ­/dÄ›lenÃ­ v kalkulaÄce.</li>
      </ul>
    </div>
  </div></div>
</div>
