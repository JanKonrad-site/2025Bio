<section id="section1-7" class="lesson">

  <header class="lesson__header">
    <h2 class="lesson__title">1.7 Příkazový řádek (CMD) a PowerShell: rychlé ovládání Windows z klávesnice</h2>
    <p class="lesson__lead">
      Tohle je „další level“ ovládání Windows: místo klikání se naučíš pár klíčových příkazů, které reálně šetří čas.
      Cíl není znát 100 příkazů, ale umět rychle: (1) orientaci ve složkách, (2) práci se soubory, (3) základní diagnostiku.
    </p>
  </header>

  <!-- Co se naučíš -->
  <article class="card">
    <h3 class="card__title">Co se naučíš?</h3>

    <ul class="checklist">
      <li><strong>Spuštění terminálu a orientace</strong> – kde jsem, co vidím, jak se v tom neztratit.</li>
      <li><strong>Top 10 příkazů pro každodenní práci</strong> – navigace, složky, kopie/přesun, přejmenování.</li>
      <li><strong>Projektový workflow</strong> – založit složku, vytvořit soubory, otevřít ve VS Code / Průzkumníku.</li>
      <li><strong>Rychlá diagnostika</strong> – síť, procesy, základní info o PC (jen to, co se fakt používá).</li>
      <li><strong>Nápověda</strong> – jak si pomoct, když příkaz neznáš.</li>
    </ul>

    <div class="note note--info">
      <strong>Metodický cíl:</strong> Po této kapitole bys měl zvládnout založit a spravovat složku projektu bez myši
      a umět rychle zjistit „proč nejde internet / co žere výkon“.
    </div>
  </article>

  <!-- Akce -->
  <div class="actions">
    <a class="btn btn--primary" href="https://learn.microsoft.com/powershell/" target="_blank" rel="noopener">
      PowerShell – oficiální dokumentace
    </a>
    <a class="btn btn--ghost" href="https://learn.microsoft.com/windows-server/administration/windows-commands/windows-commands" target="_blank" rel="noopener">
      Windows CMD příkazy (přehled)
    </a>
  </div>

  <!-- Akordeony -->
  <div class="accordion">

    <!-- 1) Jak to otevřít + pravidla -->
    <details class="acc" open>
      <summary class="acc__sum">1) Jak to otevřít a 3 pravidla, která ti ušetří nervy</summary>
      <div class="acc__body">
        <h4>Jak otevřít terminál (funguje vždy)</h4>
        <ol class="steps">
          <li>Start → napiš <strong>Terminal</strong> / <strong>PowerShell</strong> / <strong>cmd</strong> → Enter.</li>
          <li>Rychle: <kbd>Win + R</kbd> → napiš <code>cmd</code> nebo <code>powershell</code> → Enter.</li>
        </ol>

        <div class="note note--info">
          <strong>Doporučení pro výuku:</strong> Používej hlavně <strong>PowerShell</strong>. Je moderní a příkazy jsou čitelnější.
          CMD se hodí, když narazíš na starý návod nebo školní skript.
        </div>

        <h4>3 pravidla pro rychlou práci</h4>
        <ul class="bullets">
          <li><strong>1) Vždy vědět, kde jsem</strong>: před akcí si ověř aktuální složku.</li>
          <li><strong>2) Používat TAB</strong>: doplňování názvů složek/souborů šetří čas i chyby.</li>
          <li><strong>3) Když je v cestě mezera, použij uvozovky</strong>: <code>"C:\Moje soubory\Projekt"</code></li>
        </ul>

        <div class="actions">
          <button class="btn btn--sm btn--ghost modal-trigger" type="button" data-modal-open="modal1-7-keys">
            Tahák: ovládání klávesnicí
          </button>
        </div>
      </div>
    </details>

    <!-- 2) Orientace: kde jsem, co je kolem -->
    <details class="acc">
      <summary class="acc__sum">2) Orientace: kde jsem a co je ve složce (musí být automatika)</summary>
      <div class="acc__body">
        <p>
          Než začneš cokoliv mazat/kopírovat, vždycky nejdřív: „kde jsem“ a „co tu je“.
        </p>

        <h4>PowerShell (doporučeno)</h4>
        <pre><code class="powershell">pwd            # kde jsem (aktuální složka)
dir            # co je ve složce (výpis obsahu)
dir -Name      # jen názvy (přehledně)
</code></pre>

        <h4>CMD (ekvivalent)</h4>
        <pre><code class="cmd">cd             # kde jsem (vypíše aktuální cestu)
dir            # výpis obsahu složky
dir /b         # jen názvy
</code></pre>

        <div class="note note--info">
          <strong>Tip:</strong> Šipka nahoru opakuje předchozí příkaz. To je zásadní zrychlení (nepíšeš pořád dokola).
        </div>
      </div>
    </details>

    <!-- 3) Navigace -->
    <details class="acc">
      <summary class="acc__sum">3) Navigace: přechod mezi složkami za 10 sekund</summary>
      <div class="acc__body">
        <h4>Nejdůležitější příkazy</h4>
        <pre><code class="powershell">cd ..          # o úroveň výš
cd .\Skola      # vstup do složky Skola (TAB ti doplní název)
cd ~           # domovská složka uživatele (PowerShell)
</code></pre>

        <pre><code class="cmd">cd ..          # o úroveň výš
cd Skola        # vstup do složky Skola (TAB doplňuje)
cd /d D:\       # přepnutí disku + složky (CMD)
</code></pre>

        <h4>Praktický postup (doporučený drill)</h4>
        <ol class="steps">
          <li>Otevři terminál.</li>
          <li>Napiš <code>dir</code>, podívej se, co vidíš.</li>
          <li>Začni psát název složky a doplň ho klávesou <kbd>Tab</kbd>.</li>
          <li>Vstup do složky: <code>cd ...</code> a opět <code>dir</code>.</li>
        </ol>

        <div class="note note--info">
          <strong>Princip:</strong> V terminálu se pracuje v cyklu <strong>dir → cd → dir</strong>. Kdo tohle umí, je rychlý.
        </div>
      </div>
    </details>

    <!-- 4) Složky + struktura -->
    <details class="acc">
      <summary class="acc__sum">4) Složky a struktura: vytvoření projektu a strom složek</summary>
      <div class="acc__body">
        <p>
          Tohle je typická situace: „Založ projekt, vytvoř strukturu a udrž v tom pořádek.“
        </p>

        <h4>Vytvoření složek (funguje v PowerShell i CMD)</h4>
        <pre><code class="powershell">mkdir Skola_2025-2026
cd .\Skola_2025-2026
mkdir Informatika Web Projekt_01
</code></pre>

        <h4>Zobrazení stromu (super pro kontrolu)</h4>
        <pre><code class="cmd">tree</code></pre>

        <div class="note note--info">
          <strong>Tip:</strong> Když si nejsi jistý, jestli jsi ve správné složce, dej <code>pwd</code> (PowerShell) nebo <code>cd</code> (CMD).
        </div>
      </div>
    </details>

    <!-- 5) Soubory: vytvořit, kopírovat, přesunout, přejmenovat -->
    <details class="acc">
      <summary class="acc__sum">5) Soubory: vytvořit, kopírovat, přesunout, přejmenovat (jen to, co se používá)</summary>
      <div class="acc__body">
        <h4>PowerShell (nejjednodušší)</h4>
        <pre><code class="powershell">ni index.html    # vytvoří soubor (New-Item)
ni style.css
ni app.js
ni README.md

ren README.md README_PROJEKT.md
copy index.html index_backup.html
move index_backup.html .\Zaloha\   # (pokud složka existuje)
</code></pre>

        <h4>CMD (ekvivalent – méně pohodlné, ale funkční)</h4>
        <pre><code class="cmd">type nul &gt; index.html
type nul &gt; style.css
type nul &gt; app.js

ren app.js main.js
copy index.html index_backup.html
move index_backup.html Zaloha\
</code></pre>

        <div class="note note--info">
          <strong>Důležité:</strong> Mazání je nejčastější průšvih. Neuč se „mazat rychle“, uč se nejdřív „ověřit si, co mažu“.
          Postup: <strong>dir → (až pak) smazat</strong>. Pokud si nejsi jistý, nemaž.
        </div>
      </div>
    </details>

    <!-- 6) Otevření ve VS Code / Průzkumníku (workflow) -->
    <details class="acc">
      <summary class="acc__sum">6) Workflow projektu: otevřít složku ve VS Code a v Průzkumníku</summary>
      <div class="acc__body">
        <h4>Otevřít aktuální složku v Průzkumníku (funguje vždy)</h4>
        <pre><code class="cmd">explorer .</code></pre>

        <h4>Otevřít aktuální složku ve VS Code</h4>
        <p>
          Pokud je VS Code nainstalovaný a příkaz <code>code</code> je dostupný v systému, funguje toto:
        </p>
        <pre><code class="cmd">code .</code></pre>

        <div class="note note--info">
          <strong>Pokud <code>code .</code> nefunguje:</strong> Otevři složku přes <code>explorer .</code> a ve VS Code použij
          <strong>File → Open Folder...</strong>. To funguje vždy, nezávisle na nastavení PATH.
        </div>

        <h4>Rychlé otevření souboru v Poznámkovém bloku (univerzální)</h4>
        <pre><code class="cmd">notepad README.md</code></pre>
      </div>
    </details>

    <!-- 7) Síť: jen minimální diagnostika -->
    <details class="acc">
      <summary class="acc__sum">7) Síť: 3 příkazy, které reálně použiješ, když „nejde internet“</summary>
      <div class="acc__body">
        <h4>1) IP adresa a stav adaptéru</h4>
        <pre><code class="cmd">ipconfig</code></pre>
        <p class="muted">
          Hledáš: máš přidělenou IP adresu? je adaptér aktivní?
        </p>

        <h4>2) Ověření dostupnosti (ping)</h4>
        <pre><code class="cmd">ping 8.8.8.8
ping seznam.cz</code></pre>
        <p class="muted">
          Ping na IP ověří síť, ping na doménu ověří i DNS (překlad názvů).
        </p>

        <h4>3) Kde se to „ztrácí“ (tracert)</h4>
        <pre><code class="cmd">tracert seznam.cz</code></pre>

        <div class="note note--info">
          <strong>Metodika diagnostiky:</strong> (1) ipconfig → (2) ping IP → (3) ping doména → (4) tracert.
        </div>
      </div>
    </details>

    <!-- 8) Procesy: jen základ -->
    <details class="acc">
      <summary class="acc__sum">8) Procesy: rychle zjistit, co běží a ukončit zamrzlou aplikaci</summary>
      <div class="acc__body">
        <h4>CMD (rychlé a jednoduché)</h4>
        <pre><code class="cmd">tasklist
tasklist /fi "imagename eq chrome.exe"</code></pre>

        <h4>Ukončení zamrzlé aplikace (příklad s Poznámkovým blokem)</h4>
        <pre><code class="cmd">taskkill /im notepad.exe</code></pre>

        <h4>PowerShell (čitelné výpisy)</h4>
        <pre><code class="powershell">Get-Process
Get-Process | Sort-Object CPU -Descending | Select-Object -First 10</code></pre>

        <div class="note note--info">
          <strong>Bezpečnost:</strong> Neukončuj „náhodné“ systémové procesy. V běžném použití ukončuj jen aplikace, které znáš (Chrome, Teams, VS Code…).
        </div>
      </div>
    </details>

    <!-- 9) Nápověda -->
    <details class="acc">
      <summary class="acc__sum">9) Nápověda: jak si poradit bez Googlení</summary>
      <div class="acc__body">
        <h4>CMD nápověda</h4>
        <pre><code class="cmd">help
dir /?
ipconfig /?</code></pre>

        <h4>PowerShell nápověda</h4>
        <pre><code class="powershell">Get-Help Get-Process
Get-Command *process*</code></pre>

        <div class="note note--info">
          <strong>Trik:</strong> Když nevíš název příkazu, v PowerShellu hledej přes <code>Get-Command</code>.
        </div>
      </div>
    </details>

    <!-- 10) 10min trénink -->
    <details class="acc">
      <summary class="acc__sum">10) 10min trénink: „projekt bez myši“ (přesně to, co chceš umět)</summary>
      <div class="acc__body">
        <ol class="steps">
          <li>Otevři PowerShell.</li>
          <li>Najdi, kde jsi: <code>pwd</code>.</li>
          <li>Vytvoř školní složku: <code>mkdir Skola_2025-2026</code>.</li>
          <li>Vstup do ní: <code>cd .\Skola_2025-2026</code>.</li>
          <li>Vytvoř projekt: <code>mkdir Projekt_CMD</code> a vstup: <code>cd .\Projekt_CMD</code>.</li>
          <li>Vytvoř soubory: <code>ni index.html</code>, <code>ni style.css</code>, <code>ni app.js</code>.</li>
          <li>Zkontroluj obsah: <code>dir -Name</code>.</li>
          <li>Otevři složku v Průzkumníku: <code>explorer .</code>.</li>
          <li>Volitelně: pokud funguje VS Code příkaz, otevři projekt: <code>code .</code>.</li>
          <li>Hotovo: vrať se o úroveň výš: <code>cd ..</code> a ověř: <code>dir</code>.</li>
        </ol>

        <div class="note note--info">
          <strong>Cíl:</strong> Po 2–3 opakováních tohle uděláš automaticky bez přemýšlení. To je reálný „skill“.
        </div>
      </div>
    </details>

  </div>

  <!-- Shrnutí -->
  <article class="card">
    <h3 class="card__title">Shrnutí</h3>
    <ul class="checklist">
      <li>Terminál je rychlejší než klikání, když jde o opakované úkony (složky, soubory, diagnostika).</li>
      <li>Metodika práce: <strong>kde jsem</strong> → <strong>co tu je</strong> → teprve potom akce.</li>
      <li>Top příkazy pro praxi: <code>pwd</code>/<code>cd</code>, <code>dir</code>, <code>mkdir</code>, <code>ni</code>, <code>ren</code>, <code>copy</code>, <code>move</code>, <code>explorer .</code>, <code>ipconfig</code>, <code>ping</code>.</li>
      <li>Pro „nejde internet“: <code>ipconfig</code> → <code>ping IP</code> → <code>ping doména</code> → <code>tracert</code>.</li>
    </ul>
  </article>

</section>

<!-- MODALY – konec stránky, mimo sekci -->
<div class="modal" id="modal1-7-keys" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <h3 class="modal-title">Tahák: ovládání terminálu klávesnicí</h3>
        <button class="btn-close" type="button" data-modal-close aria-label="Zavřít"></button>
      </div>

      <div class="modal-body">
        <ul class="bullets">
          <li><strong>Šipka nahoru</strong> – předchozí příkaz (nepíšeš znovu).</li>
          <li><strong>TAB</strong> – doplnění názvu složky/souboru.</li>
          <li><strong>Ctrl + C</strong> – zastaví běžící příkaz (např. dlouhý ping).</li>
          <li><strong>Ctrl + L</strong> – vyčistí obrazovku (PowerShell/Terminal často funguje).</li>
          <li><strong>Uvozovky</strong> – nutné u cest s mezerami: <code>"C:\Moje soubory"</code>.</li>
        </ul>

        <div class="note note--info">
          <strong>Největší zrychlení:</strong> TAB + šipka nahoru. To jsou dvě věci, které dělají z terminálu rychlý nástroj.
        </div>
      </div>

      <div class="modal-footer">
        <button class="btn btn--ghost" type="button" data-modal-close>Zavřít</button>
      </div>

    </div>
  </div>
  
</div>
<!-- VLOŽ do <div class="accordion"> v sekci 1.7 jako další <details> -->
<details class="acc">
  <summary class="acc__sum">11) Lehká automatizace: vyčistit Stažené, vysypat Koš, odhlásit se (PowerShell)</summary>
  <div class="acc__body">

    <p>
      Tohle je praktická mini-automatizace pro běžného uživatele: uklidí složku <strong>Stažené soubory</strong>,
      vysype <strong>Koš</strong> a nakonec provede <strong>odhlášení</strong>. Je to typická situace „udělej pořádek na počítači rychle“.
    </p>

    <div class="note note--info">
      <strong>Pozor:</strong> Tento skript po vysypání Koše odstraní soubory trvale. Před spuštěním si ulož rozdělanou práci.
      Skript tě před finální částí zastaví a dá ti možnost zrušit běh (<kbd>Ctrl + C</kbd>).
    </div>

    <h4>1) Vytvoř skript</h4>
    <ol class="steps">
      <li>Otevři Poznámkový blok (Start → napiš <strong>notepad</strong> → Enter).</li>
      <li>Vlož kód níže.</li>
      <li>Ulož soubor jako <code>Uklid.ps1</code> (typ souboru: „Všechny soubory“), třeba na Plochu.</li>
    </ol>

    <h4>2) Spusť skript</h4>
    <ol class="steps">
      <li>Otevři PowerShell / Terminal.</li>
      <li>Přejdi do umístění skriptu (např. Plocha): <code>cd $env:USERPROFILE\Desktop</code></li>
      <li>Spusť ho takto (funguje bez přenastavení politik systému):</li>
    </ol>

    <pre><code class="powershell">powershell -NoProfile -ExecutionPolicy Bypass -File .\Uklid.ps1</code></pre>

    <h4>Kód skriptu: <code>Uklid.ps1</code></h4>
    <pre><code class="powershell"># Uklid.ps1 — Stažené → Koš → Vysypat Koš → Odhlášení
# Cíl: jednoduché, použitelné, bez zbytečností.

Write-Host ""
Write-Host "=== Uklid Windows (Downloads + Recycle Bin + Logoff) ==="
Write-Host "Uloz si praci. Pred finalnim krokem bude potvrzeni."
Write-Host ""

# 1) Najdi slozku Downloads (nejbeznejsi umisteni)
$downloads = Join-Path $env:USERPROFILE "Downloads"

if (-not (Test-Path -LiteralPath $downloads)) {
  Write-Host "Slozka Downloads nebyla nalezena: $downloads"
  Write-Host "Nic k uklidu ve Stazenych. Pokracuji dal..."
} else {
  # 2) Nacti obsah Downloads
  $items = Get-ChildItem -LiteralPath $downloads -Force -ErrorAction SilentlyContinue

  if (-not $items -or $items.Count -eq 0) {
    Write-Host "Downloads je prazdna: $downloads"
  } else {
    Write-Host ("Nalezeno polozek ve Stazenych: {0}" -f $items.Count)
    Write-Host "Presouvam polozky do Kose..."

    # 3) Presun do Kose pres Shell COM (funguje na beznem Windows)
    $shell = New-Object -ComObject Shell.Application
    $recycleBin = $shell.Namespace(10)   # 10 = Recycle Bin

    foreach ($it in $items) {
      try {
        $recycleBin.MoveHere($it.FullName)
      } catch {
        Write-Host ("Nelze presunout: {0}" -f $it.FullName)
      }
    }

    Write-Host "Hotovo: Downloads -> Kos"
  }
}

Write-Host ""
Write-Host "Dalsi krok: VYSYPAT KOS a ODHLASIT se."
Write-Host "Pokud to nechces dokoncit, stiskni Ctrl + C."
Read-Host "Stiskni Enter pro pokracovani"

# 4) Vysypani kose (PowerShell 5+)
if (Get-Command Clear-RecycleBin -ErrorAction SilentlyContinue) {
  try {
    Clear-RecycleBin -Force -ErrorAction SilentlyContinue
    Write-Host "Kos byl vysypan."
  } catch {
    Write-Host "Kos se nepodarilo vysypat (mohou byt zamcene soubory)."
  }
} else {
  Write-Host "Clear-RecycleBin neni dostupne v tomto PowerShellu. Kos nebyl vysypan."
}

# 5) Odhlaseni uzivatele
Write-Host "Odhlasuji uzivatele..."
shutdown.exe /l
</code></pre>

    <div class="note note--info">
      <strong>Co je důležité vědět:</strong>
      <ul class="bullets">
        <li>Skript primárně míří na běžnou složku <code>%USERPROFILE%\Downloads</code>.</li>
        <li>„Vyčistit Stažené“ = přesun do Koše, a teprve potom vysypání Koše.</li>
        <li>Když se něco nepovede přesunout (zamčený soubor), skript pokračuje dál.</li>
      </ul>
    </div>

  </div>
</details>

