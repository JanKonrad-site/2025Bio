<section id="section1-7" class="lesson">

  <header class="lesson__header">
    <h2 class="lesson__title">1.7 Příkazový řádek (CMD) a PowerShell: rychlé ovládání Windows z klávesnice</h2>
    <p class="lesson__lead">
      Tohle je „další level“ ovládání Windows: místo klikání se naučíš pár příkazů, které reálně šetří čas.
      Cíl není znát 100 příkazů, ale umět rychle: (1) orientaci ve složkách, (2) práci se soubory, (3) základní diagnostiku.
    </p>
  </header>

  <!-- Co se naučíš -->
  <article class="card">
    <h3 class="card__title">Co se naučíš?</h3>

    <ul class="checklist">
      <li><strong>Spuštění terminálu a orientace</strong> – kde jsem, co vidím, jak se v tom neztratit.</li>
      <li><strong>Top příkazy pro každodenní práci</strong> – navigace, složky, kopie/přesun, přejmenování, mazání.</li>
      <li><strong>Projektový workflow</strong> – založit složku projektu, vytvořit soubory, otevřít ve VS Code / Průzkumníku.</li>
      <li><strong>Rychlá diagnostika</strong> – síť a procesy (jen to, co se fakt používá).</li>
      <li><strong>Lehká automatizace</strong> – praktický skript: vyčistit Stažené, vysypat Koš, odhlásit se.</li>
    </ul>

    <div class="note note--info">
      <strong>Metodický cíl:</strong> Po této kapitole zvládneš založit a spravovat složku projektu bez myši a umíš rychle zjistit
      „proč nejde internet / co žere výkon“. Bonus: jednoduchý úklidový skript, který umíš vytvořit a bezpečně spustit.
    </div>
  </article>

  <!-- Akce -->
  <div class="actions">
    <a class="btn btn--primary" href="https://learn.microsoft.com/powershell/" target="_blank" rel="noopener">
      PowerShell – oficiální dokumentace
    </a>
    <a class="btn btn--ghost" href="https://learn.microsoft.com/windows-server/administration/windows-commands/windows-commands" target="_blank" rel="noopener">
      Windows CMD příkazy (přehled)
    </a>
  </div>

  <!-- Akordeony -->
  <div class="accordion">

    <!-- 1) Start + pravidla -->
    <details class="acc" open>
      <summary class="acc__sum">1) Jak to otevřít a 4 pravidla, která ti ušetří nervy</summary>
      <div class="acc__body">
        <h4>Jak otevřít terminál</h4>
        <ol class="steps">
          <li>Start → napiš <strong>Terminal</strong> / <strong>PowerShell</strong> / <strong>cmd</strong> → Enter.</li>
          <li>Rychle: <kbd>Win + R</kbd> → napiš <code>powershell</code> nebo <code>cmd</code> → Enter.</li>
        </ol>

        <div class="note note--info">
          <strong>Doporučení:</strong> Pro výuku používej hlavně <strong>PowerShell</strong>. CMD se hodí pro starší návody,
          ale PowerShell je čitelnější a praktičtější.
        </div>

        <h4>4 pravidla pro rychlou a bezpečnou práci</h4>
        <ul class="bullets">
          <li><strong>1) Vždy vědět, kde jsem</strong>: nejdřív <code>pwd</code> (PowerShell) nebo <code>cd</code> (CMD).</li>
          <li><strong>2) Vždy vědět, co tu je</strong>: nejdřív <code>dir</code> a až pak akce.</li>
          <li><strong>3) TAB doplňuje názvy</strong>: šetří čas a eliminuje překlepy.</li>
          <li><strong>4) Mezery v cestách řeš uvozovkami</strong>: <code>"C:\webové stránky\Projekt"</code></li>
        </ul>

        <div class="actions">
          <button class="btn btn--sm btn--ghost modal-trigger" type="button" data-modal-open="modal1-7-keys">
            Tahák: ovládání klávesnicí
          </button>
        </div>
      </div>
    </details>

    <!-- 2) Orientace -->
    <details class="acc">
      <summary class="acc__sum">2) Orientace: kde jsem a co je ve složce (musí být automatika)</summary>
      <div class="acc__body">
        <p>
          Než začneš cokoliv kopírovat, mazat nebo přesouvat, vždycky nejdřív: „kde jsem“ a „co tu je“.
        </p>

        <h4>PowerShell</h4>
        <pre><code class="powershell">pwd            # kde jsem (aktuální složka)
dir            # co je ve složce
dir -Name      # jen názvy (přehledně)
ls             # alias pro dir (běžně funguje)
</code></pre>

        <h4>CMD</h4>
        <pre><code class="cmd">cd             # vypíše aktuální cestu
dir            # výpis obsahu
dir /b         # jen názvy
</code></pre>

        <div class="note note--info">
          <strong>Tip:</strong> Šipka nahoru opakuje předchozí příkaz. Když něco ladíš nebo se učíš, používáš ji pořád.
        </div>
      </div>
    </details>

    <!-- 3) Navigace + cesty, Desktop, Downloads -->
    <details class="acc">
      <summary class="acc__sum">3) Navigace: Desktop, Downloads a přesuny mezi složkami (prakticky)</summary>
      <div class="acc__body">
        <h4>Základní navigace</h4>
        <pre><code class="powershell">cd ..          # o úroveň výš
cd .\Skola      # vstup do složky (TAB doplní název)
cd ~           # domovská složka uživatele
</code></pre>

        <h4>Nejčastější cíle (a proč ti „cd desktop“ někdy nejde)</h4>
        <p>
          Plocha a Stažené nejsou v <code>C:\</code>. Jsou v profilu uživatele. Proto používej proměnné:
        </p>
        <pre><code class="powershell">cd $env:USERPROFILE\Desktop      # Plocha
cd $env:USERPROFILE\Downloads    # Stažené
</code></pre>

        <div class="note note--info">
          <strong>Typická chyba:</strong> Když jsi v <code>C:\</code> a napíšeš <code>cd desktop</code>, PowerShell hledá <code>C:\desktop</code>.
          To skoro nikdy neexistuje. Správně je jít do profilu uživatele.
        </div>

        <h4>Drill (doporučený postup)</h4>
        <ol class="steps">
          <li><code>pwd</code></li>
          <li><code>dir</code></li>
          <li><code>cd ...</code> (TAB doplní)</li>
          <li><code>dir</code></li>
        </ol>
      </div>
    </details>

    <!-- 4) Struktura složek + tree -->
    <details class="acc">
      <summary class="acc__sum">4) Složky a struktura: vytvoření projektu a kontrola stromu</summary>
      <div class="acc__body">
        <h4>Vytvoření složek</h4>
        <pre><code class="powershell">mkdir Skola_2025-2026
cd .\Skola_2025-2026
mkdir Informatika Web Projekt_01
</code></pre>

        <h4>Kontrola struktury (strom)</h4>
        <pre><code class="cmd">tree</code></pre>

        <div class="note note--info">
          <strong>Tip:</strong> Před každým „velkým přesunem“ si zkontroluj, jestli jsi ve správné složce: <code>pwd</code>.
        </div>
      </div>
    </details>

    <!-- 5) Soubory: vytvořit, kopírovat, přesunout, přejmenovat, mazat -->
    <details class="acc">
      <summary class="acc__sum">5) Soubory: vytvořit, kopírovat, přesunout, přejmenovat a mazat (bez zbytečností)</summary>
      <div class="acc__body">

        <h4>Vytvoření souborů (PowerShell)</h4>
        <pre><code class="powershell">ni index.html
ni style.css
ni app.js
ni README.md
</code></pre>

        <h4>Přejmenování, kopie, přesun</h4>
        <pre><code class="powershell">ren README.md README_PROJEKT.md
copy index.html index_backup.html

mkdir Zaloha
move index_backup.html .\Zaloha\
</code></pre>

        <h4>Mazání: soubor vs složka (tohle ti chybělo)</h4>
        <p>
          Mazání je nejrizikovější operace. Standard je: <strong>nejdřív výpis</strong> (<code>dir</code>),
          pak mazání, ideálně nejdřív „na zkoušku“.
        </p>

        <h4>Bezpečná zkouška (nic nesmaže)</h4>
        <pre><code class="powershell">Remove-Item .\app.js -WhatIf
Remove-Item .\Zaloha -Recurse -WhatIf
</code></pre>

        <h4>Opravdové smazání</h4>
        <pre><code class="powershell">Remove-Item .\app.js
Remove-Item .\Zaloha -Recurse
</code></pre>

        <div class="note note--info">
          <strong>Poznámka:</strong> V PowerShellu často fungují aliasy <code>del</code> nebo <code>rm</code>, ale do výuky je lepší používat
          plný příkaz <code>Remove-Item</code> – je to čitelnější.
        </div>

      </div>
    </details>

    <!-- 6) Workflow: Explorer + VS Code -->
    <details class="acc">
      <summary class="acc__sum">6) Workflow projektu: otevřít složku v Průzkumníku a ve VS Code</summary>
      <div class="acc__body">
        <h4>Průzkumník (funguje vždy)</h4>
        <pre><code class="cmd">explorer .</code></pre>

        <h4>VS Code (pokud je dostupný příkaz code)</h4>
        <pre><code class="cmd">code .</code></pre>

        <div class="note note--info">
          <strong>Když <code>code .</code> nefunguje:</strong> je to normální – VS Code nemusí být v PATH.
          Univerzální postup je: <code>explorer .</code> a ve VS Code dát <strong>File → Open Folder...</strong>.
        </div>
      </div>
    </details>

    <!-- 7) Síť: diagnostika + vysvětlení pojmů -->
    <details class="acc">
      <summary class="acc__sum">7) Síť: diagnostika (ipconfig, ping, tracert) + co znamenají pojmy</summary>
      <div class="acc__body">

        <h4>Metodika „nejde internet“ (použitelné vždy)</h4>
        <ol class="steps">
          <li><strong>Zjisti stav IP</strong>: <code>ipconfig</code></li>
          <li><strong>Ověř síť bez DNS</strong>: <code>ping 8.8.8.8</code></li>
          <li><strong>Ověř DNS</strong>: <code>ping seznam.cz</code></li>
          <li><strong>Najdi místo problému</strong>: <code>tracert seznam.cz</code></li>
        </ol>

        <h4>1) IP informace</h4>
        <pre><code class="cmd">ipconfig
ipconfig /all</code></pre>

        <h4>Co v ipconfig typicky uvidíš (a co to znamená)</h4>
        <ul class="bullets">
          <li><strong>IPv4 Address (IPv4 adresa)</strong> – adresa tvého PC v síti (např. <code>192.168.x.x</code>).</li>
          <li><strong>Subnet Mask (maska)</strong> – určuje „velikost“ lokální sítě (často <code>255.255.255.0</code>).</li>
          <li><strong>Default Gateway (výchozí brána)</strong> – typicky router; přes něj jde provoz do internetu.</li>
          <li><strong>DNS Servers</strong> – servery, které překládají domény (<code>seznam.cz</code>) na IP adresy.</li>
          <li><strong>DHCP Enabled</strong> – pokud je „Yes“, IP adresu přiděluje automaticky router/DHCP.</li>
          <li><strong>Physical Address (MAC)</strong> – hardwarová adresa síťové karty (identifikace v lokální síti).</li>
        </ul>

        <div class="note note--info">
          <strong>Rychlá interpretace:</strong>
          <ul class="bullets">
            <li>Když máš IPv4 <strong>169.254.x.x</strong>, často to znamená: nefunguje DHCP (PC nedostalo adresu).</li>
            <li>Když ping na <strong>8.8.8.8</strong> funguje, ale ping na <strong>seznam.cz</strong> ne, problém bývá v DNS.</li>
          </ul>
        </div>

        <h4>2) Ping (test dostupnosti)</h4>
        <pre><code class="cmd">ping 8.8.8.8
ping seznam.cz</code></pre>

        <p>
          Ve výsledku sleduj hlavně: <strong>ztráta paketů</strong> (loss) a <strong>čas</strong> (time). Pokud je velká ztráta, je problém se spojením.
        </p>

        <h4>3) Tracert (kde se to ztrácí)</h4>
        <pre><code class="cmd">tracert seznam.cz</code></pre>

        <p>
          Tracert vypíše „skoky“ (routery) po cestě. Když se to začne časovat (timeout) hned na začátku, je problém lokálně (Wi-Fi/router).
          Když až dál, může to být problém poskytovatele nebo cílové služby.
        </p>

      </div>
    </details>

    <!-- 8) Procesy -->
    <details class="acc">
      <summary class="acc__sum">8) Procesy: zjistit, co běží, a ukončit zamrzlou aplikaci</summary>
      <div class="acc__body">
        <h4>CMD (rychlé)</h4>
        <pre><code class="cmd">tasklist
tasklist /fi "imagename eq chrome.exe"</code></pre>

        <h4>Ukončení procesu</h4>
        <pre><code class="cmd">taskkill /im notepad.exe
taskkill /im notepad.exe /f</code></pre>

        <h4>PowerShell (přehledné)</h4>
        <pre><code class="powershell">Get-Process
Get-Process | Sort-Object CPU -Descending | Select-Object -First 10
</code></pre>

        <div class="note note--info">
          <strong>Bezpečnost:</strong> Ukončuj jen procesy aplikací, které znáš. Systémové procesy mohou způsobit pád nebo odhlášení.
        </div>
      </div>
    </details>

    <!-- 9) Nápověda -->
    <details class="acc">
      <summary class="acc__sum">9) Nápověda: jak se nezaseknout, když příkaz neznáš</summary>
      <div class="acc__body">
        <h4>CMD</h4>
        <pre><code class="cmd">help
dir /?
ipconfig /?</code></pre>

        <h4>PowerShell</h4>
        <pre><code class="powershell">Get-Help Get-Process
Get-Command *process*
</code></pre>
      </div>
    </details>

    <!-- 10) Trénink -->
    <details class="acc">
      <summary class="acc__sum">10) 10min trénink: „projekt bez myši“ (přesně to, co chceš umět)</summary>
      <div class="acc__body">
        <ol class="steps">
          <li>Otevři PowerShell.</li>
          <li><code>pwd</code>, pak <code>dir</code>.</li>
          <li><code>mkdir Skola_2025-2026</code></li>
          <li><code>cd .\Skola_2025-2026</code></li>
          <li><code>mkdir Projekt_CMD</code> a <code>cd .\Projekt_CMD</code></li>
          <li><code>ni index.html</code>, <code>ni style.css</code>, <code>ni app.js</code></li>
          <li><code>dir -Name</code></li>
          <li><code>explorer .</code></li>
          <li>Volitelně: <code>code .</code></li>
          <li><code>cd ..</code> a ověř <code>dir</code></li>
        </ol>

        <div class="note note--info">
          <strong>Cíl:</strong> Po 2–3 opakováních tohle uděláš automaticky. To je praktická hodnota kapitoly.
        </div>
      </div>
    </details>


  </div>

  <!-- Shrnutí -->
  <article class="card">
    <h3 class="card__title">Shrnutí</h3>
    <ul class="checklist">
      <li>Metodika práce: <strong>kde jsem</strong> → <strong>co tu je</strong> → teprve potom akce.</li>
      <li>Navigace a práce se soubory je základ: <code>pwd</code>, <code>dir</code>, <code>cd</code>, <code>mkdir</code>, <code>ni</code>, <code>copy</code>, <code>move</code>, <code>ren</code>, <code>Remove-Item</code>.</li>
      <li>Síťová diagnostika: <code>ipconfig</code> → <code>ping IP</code> → <code>ping doména</code> → <code>tracert</code>.</li>
      <li>Skripty v PowerShellu se spouští typicky jako <code>.\skript.ps1</code> (ne jen názvem).</li>
    </ul>
  </article>

  <!-- TEST -->
<article class="card" id="section1-7-test">
  <h3 class="card__title">Test: CMD a PowerShell (1.7)</h3>
  <p>Vyber vždy jednu odpověď u každé otázky. Správná se označí, špatná také. Výsledek se počítá dole.</p>

  <div class="quiz" data-quiz>

    <div class="quiz-question">
      <p><strong>1. Co vypíše příkaz <code>pwd</code> v PowerShellu?</strong></p>
      <div class="quiz-answers">
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)">Seznam procesů</button>
        <button class="btn btn--ghost" data-correct="1" onclick="checkAnswer(this, true)">Aktuální cestu (kde jsem)</button>
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)">IP adresu</button>
      </div>
    </div>

    <div class="quiz-question">
      <p><strong>2. Proč nefunguje <code>cd desktop</code>, když jsi v <code>C:\</code>?</strong></p>
      <div class="quiz-answers">
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)">PowerShell neumí Desktop</button>
        <button class="btn btn--ghost" data-correct="1" onclick="checkAnswer(this, true)">Plocha není v <code>C:\</code>, ale v profilu uživatele</button>
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)">Musí se psát DESKTOP velkými</button>
      </div>
    </div>

    <div class="quiz-question">
      <p><strong>3. Jak se nejspolehlivěji dostaneš na Plochu přes PowerShell?</strong></p>
      <div class="quiz-answers">
        <button class="btn btn--ghost" data-correct="1" onclick="checkAnswer(this, true)"><code>cd $env:USERPROFILE\Desktop</code></button>
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)"><code>cd C:\desktop</code></button>
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)"><code>desktop</code></button>
      </div>
    </div>

    <div class="quiz-question">
      <p><strong>4. K čemu slouží klávesa <kbd>Tab</kbd> v terminálu?</strong></p>
      <div class="quiz-answers">
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)">Zruší příkaz</button>
        <button class="btn btn--ghost" data-correct="1" onclick="checkAnswer(this, true)">Doplňuje názvy složek/souborů</button>
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)">Vypíše nápovědu</button>
      </div>
    </div>

    <div class="quiz-question">
      <p><strong>5. Jak vytvoříš v PowerShellu nový soubor <code>index.html</code>?</strong></p>
      <div class="quiz-answers">
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)"><code>mkdir index.html</code></button>
        <button class="btn btn--ghost" data-correct="1" onclick="checkAnswer(this, true)"><code>ni index.html</code></button>
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)"><code>dir index.html</code></button>
      </div>
    </div>

    <div class="quiz-question">
      <p><strong>6. Jak bezpečně otestuješ mazání v PowerShellu bez skutečného smazání?</strong></p>
      <div class="quiz-answers">
        <button class="btn btn--ghost" data-correct="1" onclick="checkAnswer(this, true)"><code>Remove-Item ... -WhatIf</code></button>
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)"><code>Remove-Item ... -Force</code></button>
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)"><code>del /p</code></button>
      </div>
    </div>

    <div class="quiz-question">
      <p><strong>7. Co znamená položka <strong>Default Gateway</strong> v <code>ipconfig</code>?</strong></p>
      <div class="quiz-answers">
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)">IP adresa DNS</button>
        <button class="btn btn--ghost" data-correct="1" onclick="checkAnswer(this, true)">Router / brána do internetu</button>
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)">MAC adresa PC</button>
      </div>
    </div>

    <div class="quiz-question">
      <p><strong>8. Když <code>ping 8.8.8.8</code> funguje, ale <code>ping seznam.cz</code> nefunguje, nejčastěji je problém v…</strong></p>
      <div class="quiz-answers">
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)">Wi-Fi kartě</button>
        <button class="btn btn--ghost" data-correct="1" onclick="checkAnswer(this, true)">DNS (překlad názvů)</button>
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)">RAM paměti</button>
      </div>
    </div>

    <div class="quiz-question">
      <p><strong>9. Jak otevřeš aktuální složku v Průzkumníku?</strong></p>
      <div class="quiz-answers">
        <button class="btn btn--ghost" data-correct="1" onclick="checkAnswer(this, true)"><code>explorer .</code></button>
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)"><code>open .</code></button>
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)"><code>dir /explorer</code></button>
      </div>
    </div>

    <div class="quiz-question">
      <p><strong>10. Co udělá <code>taskkill /im notepad.exe /f</code>?</strong></p>
      <div class="quiz-answers">
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)">Zobrazí procesy Notepadu</button>
        <button class="btn btn--ghost" data-correct="1" onclick="checkAnswer(this, true)">Násilně ukončí proces Notepadu</button>
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)">Opraví systémové soubory</button>
      </div>
    </div>

    <div class="quiz-question">
      <p><strong>11. K čemu slouží příkaz <code>tree</code>?</strong></p>
      <div class="quiz-answers">
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)">Smaže složku včetně obsahu</button>
        <button class="btn btn--ghost" data-correct="1" onclick="checkAnswer(this, true)">Vypíše stromovou strukturu složek</button>
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)">Změní aktuální složku</button>
      </div>
    </div>

    <div class="quiz-question">
      <p><strong>12. Jak zjistíš nápovědu k příkazu <code>ipconfig</code> v CMD?</strong></p>
      <div class="quiz-answers">
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)"><code>Get-Help ipconfig</code></button>
        <button class="btn btn--ghost" data-correct="1" onclick="checkAnswer(this, true)"><code>ipconfig /?</code></button>
        <button class="btn btn--ghost" onclick="checkAnswer(this, false)"><code>help ipconfig()</code></button>
      </div>
    </div>

    <div class="actions">
      <button class="btn btn--ghost" type="button" onclick="resetQuiz(this)">Reset</button>
    </div>

    <div class="note note--info" data-quiz-result aria-live="polite"></div>

  </div>
</article>

  </article>

</section>

<!-- MODALY – konec stránky, mimo sekci -->
<div class="modal" id="modal1-7-keys" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <h3 class="modal-title">Tahák: ovládání terminálu klávesnicí</h3>
        <button class="btn-close" type="button" data-modal-close aria-label="Zavřít"></button>
      </div>

      <div class="modal-body">
        <ul class="bullets">
          <li><strong>Šipka nahoru</strong> – předchozí příkaz.</li>
          <li><strong>TAB</strong> – doplnění názvu složky/souboru.</li>
          <li><strong>Ctrl + C</strong> – zastaví běžící příkaz.</li>
          <li><strong>Uvozovky</strong> – cesty s mezerami: <code>"C:\webové stránky"</code>.</li>
          <li><strong>.\</strong> – spuštění skriptu z aktuální složky: <code>.\uklid.ps1</code>.</li>
        </ul>
      </div>

      <div class="modal-footer">
        <button class="btn btn--ghost" type="button" data-modal-close>Zavřít</button>
      </div>

    </div>
  </div>
</div>
