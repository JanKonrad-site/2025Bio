<!-- =========================================
     4.1.5 Menu + vnořené smyčky (while)
     ========================================= -->
<section id="section4-1-5" class="container no-copy my-5">
  <style>
    .tip{border-left:4px solid #0d6efd; background:#f8f9fa; padding:.75rem 1rem}
    .warn{border-left:4px solid #dc3545; background:#fff5f5; padding:.75rem 1rem}
    .ok{border-left:4px solid #198754; background:#f6fff8; padding:.75rem 1rem}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace}
    pre code{white-space:pre}
    .kbd{padding:.05rem .35rem;border:1px solid #ddd;border-radius:.25rem;background:#eee}
  </style>

  <h3 class="mb-4">4.1.5 Vytvoř si menu a příběh pomocí vnořených <code>while</code></h3>

  <div class="container my-4 p-4 border rounded bg-light">
    <h4 class="mb-3">Cíl lekce</h4>
    <ul class="mb-3">
      <li>Postavíš <b>hlavní menu</b> (vratná smyčka) a <b>herní smyčku</b> (vnořenou) pomocí <code>while</code>.</li>
      <li>Pochopíš, proč používáme <em>řídicí proměnné</em> jako <code>menuLoop</code> a <code>gameLoop</code>.</li>
      <li>Naučíš se používat <code>continue</code>, <code>break</code> a ukončit program (<code>exit()</code> / <code>sys.exit()</code>).</li>
      <li>Tipy pro <b>orientaci ve vnořených smyčkách</b>, <b>komentáře</b> a <b>odsazení ve VS Code</b>.</li>
    </ul>
    <div class="tip"><b>Kdy while?</b> Když dopředu nevíš, kolikrát se bude něco opakovat (menu běží „dokud hráč nechce skončit“).</div>
  </div>

  <!-- BLOK 1: Kostra hlavního menu -->
  <div class="container my-4 p-4 border rounded">
    <h4 class="mb-3">1) Hlavní menu: řídicí proměnná a smyčka</h4>
    <div class="accordion" id="accMenuStep1">
      <div class="accordion-item">
        <h2 class="accordion-header" id="m1h1">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#m1c1">
            Krok 1 – Proč <span class="mono">menuLoop = True</span>?
          </button>
        </h2>
        <div id="m1c1" class="accordion-collapse collapse show" data-bs-parent="#accMenuStep1">
          <div class="accordion-body">
            <p><em>Řídicí proměnná</em> říká, zda smyčka běží. Pokud ji přepneme na <code>False</code>, smyčka skončí. Je to přehledné a dobře čitelné.</p>
<pre><code class="language-python">menuLoop = True
while menuLoop:
    # ... obsah menu</code></pre>
            <div class="tip"><b>Alternativa:</b> <code>while True:</code> a odchod řídit <code>break</code> nebo <code>exit()</code>. Více v modálu dole.</div>
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header" id="m1h2">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#m1c2">
            Krok 2 – Výpis menu a načtení volby
          </button>
        </h2>
        <div id="m1c2" class="accordion-collapse collapse" data-bs-parent="#accMenuStep1">
          <div class="accordion-body">
<pre><code class="language-python">menuLoop = True
while menuLoop:
    print("===================================")
    print("=== Vítejte v textové adventuře ===")
    print("===================================")
    volba = input("1) Start Game\n2) Exit\nZadejte jednu z možností: ")
    # ... reakce na volbu doplníme v dalších krocích</code></pre>
            <p><b>Proč to funguje:</b> Každý průchod vypíšeme nabídku a načteme volbu. Smyčka udrží menu „živé“.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="mt-3">
      <button class="btn btn-outline-secondary btn-sm" data-bs-toggle="modal" data-bs-target="#modalFlagVsTrue">ℹ️ <code>menuLoop</code> vs. <code>while True</code></button>
    </div>
  </div>

  <!-- BLOK 2: Start Game → druhá (vnořená) smyčka -->
  <div class="container my-4 p-4 border rounded bg-light">
    <h4 class="mb-3">2) Start Game: vstup hráče a herní smyčka</h4>
    <div class="accordion" id="accGameLoop">
      <div class="accordion-item">
        <h2 class="accordion-header" id="g1h1">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#g1c1">
            Krok 3 – Reakce na volbu „1“ a vytvoření herní smyčky
          </button>
        </h2>
        <div id="g1c1" class="accordion-collapse collapse show" data-bs-parent="#accGameLoop">
          <div class="accordion-body">
<pre><code class="language-python">if volba == "1":
    print("Vítejte v mé textové adventuře!")
    player = input("Zadej jméno svého hrdiny: ")
    print(f"Vítej: {player}")
    gameLoop = True
    while gameLoop:
        print("\nNyní následuje nějaký scénář.")
        print("Nacházíš se v lokaci A")
        print("Máš na výběr ze 2 možností")
        print("1) Přesun do příběhu / lokace A.a")
        print("2) Přesun do příběhu / lokace A.b")
        volba = input("Vyber jednu z možností: ")
        # ... větvení doplníme v dalších krocích</code></pre>
            <ul class="mb-0">
              <li><code>gameLoop</code> je <em>druhá</em> řídicí proměnná – udržuje běh herní části.</li>
              <li>Vnořená smyčka běží uvnitř menu – proto potřebujeme jasné komentáře a odsazení.</li>
            </ul>
            <div class="warn mt-3"><b>Pozor:</b> Proměnná <code>volba</code> se používá v obou úrovních. Udržuj přehledné komentáře (viz tipy níže).</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- BLOK 3: Větvení A.a a A.b (vnořené while + continue) -->
  <div class="container my-4 p-4 border rounded">
    <h4 class="mb-3">3) Větvení příběhu: A.a a A.b</h4>
    <div class="accordion" id="accBranches">
      <!-- A.a -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="b1h1">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#b1c1">
            Krok 4 – Větev A.a (WinGame / GameOver) + <code>continue</code>
          </button>
        </h2>
        <div id="b1c1" class="accordion-collapse collapse show" data-bs-parent="#accBranches">
          <div class="accordion-body">
<pre><code class="language-python">if volba == "1":
    # SMYČKA LOKACE A.a – opakuje se, dokud gameLoop zůstává True
    while gameLoop:
        print("\nVybral jsi možnost 1")
        print("Jsi v oblasti A.a")
        print("Zde následuje větvení příběhu pomocí If Statementů")
        print("Máš na výběr ze dvou možností: ")
        print("1) Přesun do lokace A.a.2 (WinGame)")
        print("2) Přesun do lokace A.a.3 (GameOver)")
        volba = input("Vyber jednu z možností: ")

        if volba == "1":
            print("\nVybral jsi možnost 1.")
            print("Přesunul jsi se do lokace A.a.2, kde tvůj příběh končí dobře (WinGame)")
            input("Stiskni ENTER pro návrat do hlavního menu...")
            gameLoop = False   # ukončí herní smyčku → vrátí do hlavního menu
        elif volba == "2":
            print("\nVybral jsi možnost 2")
            print("Přesunul jsi se do lokace A.a.3, kde tvůj příběh končí špatně (GameOver)")
            input("Stiskni ENTER pro návrat do hlavního menu...")
            gameLoop = False
        else:
            continue            # špatná volba → zůstaň v A.a</code></pre>
            <div class="tip"><b>Proč <code>continue</code>?</b> Přeskočí zbytek těla smyčky a začne <em>další průchod</em> – hodí se, když volba nebyla platná.</div>
          </div>
        </div>
      </div>

      <!-- A.b -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="b2h1">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#b2c1">
            Krok 5 – Větev A.b (GameOver / WinGame) + návrat do menu
          </button>
        </h2>
        <div id="b2c1" class="accordion-collapse collapse" data-bs-parent="#accBranches">
          <div class="accordion-body">
<pre><code class="language-python">elif volba == "2":
    # SMYČKA LOKACE A.b – opakuje se, dokud gameLoop zůstává True
    while gameLoop:
        print("\nVybral jsi možnost 2")
        print("Jsi v oblati A.b")
        print("Zde může tvůj příběh skončit, nebo se větvit na více možností.")
        print("Máš na výběr ze dvou možností: ")
        print("1) Přesun do lokace A.b.2 (GameOver)")
        print("2) Přesun do lokace A.b.3 (WinGame)")
        volba = input("Zadejte jednu z možností: ")

        if volba == "1":
            print("\nJsi v lokaci A.b.2")
            print("Zde tvůj příběh končí špatně (GameOver)")
            input("Stiskni ENTER pro návrat do hlavního menu...")
            gameLoop = False
        elif volba == "2":
            print("\nJsi v lokaci A.b.3")
            print("Zde tvůj příběh končí dobře (WinGame)")
            input("Stiskni ENTER pro návrat do hlavního menu...")
            gameLoop = False
        else:
            continue            # špatná volba → zůstaň v A.b</code></pre>
          </div>
        </div>
      </div>

      <!-- Neplatná volba -->
      <div class="accordion-item">
        <h2 class="accordion-header" id="b3h1">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#b3c1">
            Krok 6 – Ošetření neplatné volby v herním menu
          </button>
        </h2>
        <div id="b3c1" class="accordion-collapse collapse" data-bs-parent="#accBranches">
          <div class="accordion-body">
<pre><code class="language-python">else:
    print("Neplatná volba, zkus to znovu.")
    continue  # vrátí tě na začátek herní smyčky</code></pre>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- BLOK 4: Ukončení programu (Exit) -->
  <div class="container my-4 p-4 border rounded bg-light">
    <h4 class="mb-3">4) Ukončení programu: <code>exit()</code> a <code>sys.exit()</code></h4>
    <div class="accordion" id="accExit">
      <div class="accordion-item">
        <h2 class="accordion-header" id="e1h1">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#e1c1">
            Krok 7 – Reakce na „2) Exit“
          </button>
        </h2>
        <div id="e1c1" class="accordion-collapse collapse show" data-bs-parent="#accExit">
          <div class="accordion-body">
<pre><code class="language-python">elif volba == "2":
    exit()   # okamžitě ukončí program</code></pre>
            <div class="tip"><b>Doporučení:</b> V „dospělejších“ projektech použij <code>import sys</code> a <code>sys.exit()</code>, protože je to explicitnější a lépe kontrolovatelné (viz modál níže).</div>
          </div>
        </div>
      </div>
    </div>

    <div class="mt-3">
      <button class="btn btn-outline-primary btn-sm" data-bs-toggle="modal" data-bs-target="#modalExit">📘 <code>exit()</code> vs. <code>sys.exit()</code></button>
    </div>
  </div>

  <!-- BLOK 5: Jak se neztratit – komentáře, odsazení, VS Code -->
  <div class="container my-4 p-4 border rounded">
    <h4 class="mb-3">5) Organizace kódu: komentáře, odsazení, VS Code</h4>
    <div class="accordion" id="accHygiene">
      <div class="accordion-item">
        <h2 class="accordion-header" id="h1h1">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#h1c1">
            Komentáře a „záhlaví“ bloků
          </button>
        </h2>
        <div id="h1c1" class="accordion-collapse collapse show" data-bs-parent="#accHygiene">
          <div class="accordion-body">
<pre><code class="language-python"># ===== Hlavní menu =====
menuLoop = True
while menuLoop:
    # --- Nadpis a volby ---
    print("===================================")
    # ... zbytek menu

    # --- Start Game: vstup hráče ---
    if volba == "1":
        # --- Herní smyčka (lokace A) ---
        gameLoop = True
        while gameLoop:
            # --- Větev A.a ---
            # --- Větev A.b ---
            pass</code></pre>
            <p>Výrazné komentáře pomáhají „neztratit se“ ve vnořených blocích.</p>
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header" id="h1h2">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#h1c2">
            Odsazení a hromadné úpravy ve VS Code
          </button>
        </h2>
        <div id="h1c2" class="accordion-collapse collapse" data-bs-parent="#accHygiene">
          <div class="accordion-body">
            <ul class="mb-2">
              <li><b>Odsadit blok</b>: označ řádky → <span class="kbd">Tab</span>. Od-odsadit: <span class="kbd">Shift</span>+<span class="kbd">Tab</span>.</li>
              <li><b>Automatické formátování</b>: <span class="kbd">Shift</span>+<span class="kbd">Alt</span>+<span class="kbd">F</span> (Win/Linux), <span class="kbd">Option</span>+<span class="kbd">Shift</span>+<span class="kbd">F</span> (macOS).</li>
              <li><b>Zakomentovat</b> (toggle): <span class="kbd">Ctrl</span>+<span class="kbd">/</span> (Win/Linux), <span class="kbd">Cmd</span>+<span class="kbd">/</span> (macOS).</li>
              <li><b>Sbalit/rozbalit blok</b> (podle odsazení): klikni na trojúhelník v gutteru, nebo <span class="kbd">Ctrl</span>+<span class="kbd">Shift</span>+<span class="kbd">[</span> / <span class="kbd">]</span>.</li>
              <li><b>Přesun řádku</b>: <span class="kbd">Alt</span>+<span class="kbd">↑</span>/<span class="kbd">↓</span> (Win/Linux), <span class="kbd">Option</span>+<span class="kbd">↑</span>/<span class="kbd">↓</span> (macOS).</li>
            </ul>
            <div class="ok">Díky pevnému odsazení (4 mezery / Tab nastavený na 4) uvidíš jasně hierarchii vnořených smyček.</div>
          </div>
        </div>
      </div>
    </div>

    <div class="mt-3">
      <button class="btn btn-outline-secondary btn-sm" data-bs-toggle="modal" data-bs-target="#modalNestedMental">🧠 Mentální model vnořených smyček</button>
    </div>
  </div>

  <!-- MODÁLY -->
  <div class="modal fade" id="modalExit" tabindex="-1" aria-labelledby="modalExitLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 id="modalExitLabel" class="modal-title"><code>exit()</code> vs. <code>sys.exit()</code></h5>
          <button class="btn-close" data-bs-dismiss="modal" aria-label="Zavřít"></button>
        </div>
        <div class="modal-body">
          <ul>
            <li><code>exit()</code> – uživatelské „zkratkové“ ukončení (funguje v interaktivní konzoli i v jednoduchých skriptech).</li>
            <li><code>sys.exit()</code> – profesionální a explicitní; umožňuje předat návratový kód OS. Použij:
<pre><code class="language-python">import sys
# ...
sys.exit(0)   # 0 = OK; nenulové hodnoty značí chybu</code></pre>
            </li>
          </ul>
          <p>Pro jednoduché skripty a výuku je <code>exit()</code> v pořádku. V reálných projektech používej <code>sys.exit()</code>.</p>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="modalFlagVsTrue" tabindex="-1" aria-labelledby="modalFlagVsTrueLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 id="modalFlagVsTrueLabel" class="modal-title"><code>menuLoop=True</code> vs. <code>while True</code></h5>
          <button class="btn-close" data-bs-dismiss="modal" aria-label="Zavřít"></button>
        </div>
        <div class="modal-body">
          <ul>
            <li><code>menuLoop = True</code> + <code>while menuLoop:</code> – přehledné, jasně vidíš, kdy smyčka končí (změnou na <code>False</code>).</li>
            <li><code>while True:</code> – kratší zápis, ale odchod musíš řídit pomocí <code>break</code> nebo <code>exit()</code>. Může být méně přehledné.</li>
            <li><b>Doporučení:</b> Pro začátečníky je lepší první varianta s řídicí proměnnou (<code>menuLoop</code>), protože je čitelnější a srozumitelnější.</li>
          </ul>
          
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="modalNestedMental" tabindex="-1" aria-labelledby="modalNestedMentalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 id="modalNestedMentalLabel" class="modal-title">Jak číst vnořené smyčky bez ztráty nitě</h5>
          <button class="btn-close" data-bs-dismiss="modal" aria-label="Zavřít"></button>
        </div>
        <div class="modal-body">
          <ol>
            <li><b>Okraje/odsazení</b> = hierarchie. Co je víc vpravo, patří <em>dovnitř</em> nadřazeného bloku.</li>
            <li><b>Bloky pojmenovávej komentáři</b>: <code># ===== MENU =====</code>, <code># --- Lokace A.a ---</code>.</li>
            <li><b>Tok programu</b>: vstup do smyčky → vykonání těla → konec těla → kontrola podmínky → (případně) další kolo.</li>
            <li><b>Vnoření</b> = stejný princip, jen uvnitř jiné smyčky. Po ukončení vnořené smyčky se vracíš do té nadřazené.</li>
          </ol>
        </div>
      </div>
    </div>
  </div>

  <!-- FINÁLNÍ VÝSTUP PRO STUDENTY (přesně dle zadání) -->
  <div class="container my-5 p-4 border rounded bg-light">
    <h4 class="mb-3">🎯 Finální kód</h4>
    <div class="warn mb-2">Pozn.: Profesionálnější varianta používá <code>import sys</code> a <code>sys.exit()</code>, ale zde ponecháváme přesně vámi požadovanou podobu s <code>exit()</code>.</div>
<pre><code class="language-python">menuLoop = True
while menuLoop:
    print("===================================")
    print("=== Vítejte v textové adventuře ===")
    print("===================================")
    volba = input("1) Start Game\n2) Exit\nZadejte jednu z možností: ")
    if volba == "1":
        
            print("Vítejte v mé textové adventuře!")
            player = input("Zadej jméno svého hrdiny: ")
            print(f"Vítej: {player}")
            gameLoop = True
            while gameLoop:
                print("\nNyní následuje nějaký scénář.")
                print("Nacházíš se v lokaci A")
                print("Máš na výběr ze 2 možností")
                print("1) Přesun do příběhu / lokace A.a")
                print("2) Přesun do příběhu / lokace A.b")
                volba = input("Vyber jednu z možností: ")

                if volba == "1":
                    while gameLoop:
                        print("\nVybral jsi možnost 1")
                        print("Jsi v oblasti A.a")
                        print("Zde následuje větvení příběhu pomocí If Statementů")
                        print("Máš na výběr ze dvou možností: ")
                        print("1) Přesun do lokace A.a.2 (WinGame)")
                        print("2) Přesun do lokace A.a.3 (GameOver)")
                        volba = input("Vyber jednu z možností: ")

                        if volba == "1":
                            print("\nVybral jsi možnost 1.")
                            print("Přesunul jsi se do lokace A.a.2, kde tvůj příběh končí dobře (WinGame)")
                            input("Stiskni ENTER pro návrat do hlavního menu...")
                            gameLoop = False
                        elif volba == "2":
                            print("\nVybral jsi možnost 2")
                            print("Přesunul jsi se do lokace A.a.3, kde tvůj příběh končí špatně (GameOver)")
                            input("Stiskni ENTER pro návrat do hlavního menu...")
                            gameLoop = False
                        else:
                            continue  # špatná volba, zůstane ve smyčce A.a

                elif volba == "2":
                    while gameLoop:
                        print("\nVybral jsi možnost 2")
                        print("Jsi v oblati A.b")
                        print("Zde může tvůj příběh skončit, nebo se větvit na více možností.")
                        print("Máš na výběr ze dvou možností: ")
                        print("1) Přesun do lokace A.b.2 (GameOver)")
                        print("2) Přesun do lokace A.b.3 (WinGame)")
                        volba = input("Zadejte jednu z možností: ")

                        if volba == "1":
                            print("\nJsi v lokaci A.b.2")
                            print("Zde tvůj příběh končí špatně (GameOver)")
                            input("Stiskni ENTER pro návrat do hlavního menu...")
                            gameLoop = False
                        elif volba == "2":
                            print("\nJsi v lokaci A.b.3")
                            print("Zde tvůj příběh končí dobře (WinGame)")
                            input("Stiskni ENTER pro návrat do hlavního menu...")
                            gameLoop = False
                        else:
                            continue  # špatná volba, zůstane ve smyčce A.b
                else:
                    print("Neplatná volba, zkus to znovu.")
                    continue
    elif volba == "2":
        exit()</code></pre>
  </div>


</section>
