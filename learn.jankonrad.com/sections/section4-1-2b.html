<!-- KAPITOLA: 4.1.2b DatovÃ© typy v praxi â€“ BMI a kalkulaÄka spropitnÃ©ho -->
<section id="section4-1-2b" class="container my-5 no-copy">
  <h3 class="mb-4">4.1.2b DatovÃ© typy v praxi â€“ BMI a kalkulaÄka spropitnÃ©ho</h3>

  <!-- LokÃ¡lnÃ­ styl pro matematickÃ© vzorce -->
  <style>
    .math-card{
      background:#ffffff;
      border:1px solid rgba(0,0,0,.1);
      border-radius:.5rem;
      padding:1rem 1.25rem;
      margin:1rem 0;
    }
    .math-label{
      font-weight:600;
      margin-bottom:.25rem;
    }
    .fraction{
      display:inline-flex;
      flex-direction:column;
      align-items:center;
      line-height:1.1;
      margin:0 .15em;
    }
    .fraction .f-num{
      padding:0 .25em;
    }
    .fraction .f-bar{
      border-top:1px solid #000;
      width:100%;
      margin:0;
    }
    .fraction .f-den{
      padding:0 .25em;
    }
  </style>

  <!-- ÃšvodnÃ­ pÅ™ehled -->
  <div class="container my-4 p-4 border rounded bg-light">
    <h3 class="mb-3">Co se nauÄÃ­Å¡?</h3>
    <p>V tÃ©to kapitole si vyzkouÅ¡Ã­Å¡ <strong>datovÃ© typy</strong> na dvou malÃ½ch projektech z praxe. Navazuje to na teorii o <code>int</code>, <code>float</code>, pÅ™evodech typÅ¯ a f-Å™etÄ›zcÃ­ch.</p>
    <ul class="list-group list-group-flush mb-3">
      <li class="list-group-item">PÅ™epsat <strong>matematickÃ½ vzorec</strong> do zÃ¡pisu v Pythonu.</li>
      <li class="list-group-item">PouÅ¾Ã­vat <strong>ÄÃ­sla</strong> a pÅ™evody typÅ¯ v reÃ¡lnÃ½ch vÃ½poÄtech (BMI, spropitnÃ©).</li>
      <li class="list-group-item">FormÃ¡tovat vÃ½stup pomocÃ­ <strong>f-Å™etÄ›zcÅ¯</strong> (poÄet desetinnÃ½ch mÃ­st).</li>
      <li class="list-group-item">VytvoÅ™it <strong>BMI kalkulÃ¡tor</strong> a <strong>kalkulaÄku spropitnÃ©ho</strong>.</li>
    </ul>
    <div class="alert alert-info" role="alert">
      <strong>Tip:</strong> NejdÅ™Ã­v si vzorec napiÅ¡ <strong>bÄ›Å¾nÃ½m matematickÃ½m zÃ¡pisem</strong>, teprve potom ho pÅ™epiÅ¡ do Pythonu.
    </div>
  </div>

  <h4 class="mt-4 mb-3">ğŸ§ª PraktickÃ¡ cviÄenÃ­</h4>

  <!-- ===== CviÄenÃ­ & Projekt (akordeony) ===== -->
  <div class="accordion my-4" id="acc-day2">

    <!-- CviÄenÃ­: BMI -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="h-bmi">
        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#c-bmi" aria-expanded="true" aria-controls="c-bmi">
          ğŸ¯ CviÄenÃ­: BMI kalkulÃ¡tor â€“ od vzorce k Pythonu
        </button>
      </h2>
      <div id="c-bmi" class="accordion-collapse collapse show" aria-labelledby="h-bmi" data-bs-parent="#acc-day2">
        <div class="accordion-body">

          <p>VÃ½poÄet BMI vychÃ¡zÃ­ z klasickÃ©ho matematickÃ©ho vzorce:</p>

          <div class="math-card text-center">
            <div class="math-label">MatematickÃ½ vzorec pro BMI</div>
            <div class="fs-5 mb-1">
              BMI =
              <span class="fraction">
                <span class="f-num">hmotnost&nbsp;(kg)</span>
                <span class="f-bar"></span>
                <span class="f-den">vÃ½Å¡ka<sup>2</sup>&nbsp;(m<sup>2</sup>)</span>
              </span>
            </div>
            <div class="text-muted small">zkrÃ¡cenÄ›: <code>BMI = m / hÂ²</code></div>
          </div>

          <h5 class="mt-3">1ï¸âƒ£ MatematickÃ½ zÃ¡pis â†’ jmÃ©na promÄ›nnÃ½ch</h5>
          <ul>
            <li><code>m</code> (hmotnost) â†’ v kÃ³du pouÅ¾ijeme jmÃ©no <code>hmotnost</code></li>
            <li><code>h</code> (vÃ½Å¡ka v metrech) â†’ v kÃ³du <code>vyska</code></li>
            <li><code>BMI</code> â†’ v kÃ³du <code>bmi</code></li>
          </ul>
          <p>Vzorec tedy pÅ™epÃ­Å¡eme logikou â€matematika â†’ kÃ³dâ€œ:</p>
          <ul>
            <li><code>BMI = m / hÂ²</code></li>
            <li><code>bmi = hmotnost / (vyskaÂ²)</code> â€“ stejnÃ½ tvar, jen jinÃ¡ jmÃ©na</li>
          </ul>

          <h5>2ï¸âƒ£ Jak zapsat â€na druhouâ€œ v Pythonu</h5>
          <p>V matematice pÃ­Å¡eme <code>hÂ²</code>. V Pythonu pouÅ¾Ã­vÃ¡me pro mocniny operÃ¡tor <code>**</code>:</p>
          <ul>
            <li><code>hÂ²</code> â†’ <code>h ** 2</code></li>
            <li><code>vyskaÂ²</code> â†’ <code>vyska ** 2</code></li>
          </ul>
          <p>FinÃ¡lnÃ­ zÃ¡pis vzorce v Pythonu:</p>
          <p class="text-center fs-5 mb-3"><code>bmi = hmotnost / (vyska ** 2)</code></p>

          <h5>3ï¸âƒ£ KompletnÃ­ program</h5>
          <p>TeÄ jen doplnÃ­me vstupy a formÃ¡tovanÃ½ vÃ½stup:</p>

<pre><code class="language-python"># 1) Vstupy z klÃ¡vesnice (pÅ™evedeme na float, protoÅ¾e jde o desetinnÃ¡ ÄÃ­sla)
vyska = float(input("Zadej vÃ½Å¡ku v metrech (napÅ™. 1.75): "))
hmotnost = float(input("Zadej hmotnost v kg (napÅ™. 68.5): "))

# 2) PÅ™epis matematickÃ©ho vzorce BMI = m / hÂ²
bmi = hmotnost / (vyska ** 2)

# 3) VÃ½stup na 1 desetinnÃ© mÃ­sto
print(f"BMI: {bmi:.1f}")  # napÅ™. BMI: 22.4</code></pre>

          <div class="d-flex flex-wrap gap-2 mb-2">
            <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#modalBMIJak">
              ğŸ” Matematika â†’ Python krok za krokem
            </button>
            <button class="btn btn-sm btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#modalF">
              â„¹ï¸ Co pÅ™esnÄ› znamenÃ¡ <code>f"{bmi:.1f}"</code>?
            </button>
          </div>

        </div>
      </div>
    </div>

    <!-- Projekt: Tip Calculator -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="h-tip">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#c-tip" aria-expanded="false" aria-controls="c-tip">
          ğŸ§® Projekt: KalkulaÄka spropitnÃ©ho â€“ matematicky po krocÃ­ch
        </button>
      </h2>
      <div id="c-tip" class="accordion-collapse collapse" aria-labelledby="h-tip" data-bs-parent="#acc-day2">
        <div class="accordion-body">

          <p>Program vypoÄÃ­tÃ¡, kolik mÃ¡ <b>kaÅ¾dÃ½ ÄlovÄ›k zaplatit</b>, kdyÅ¾ znÃ¡me celkovÃ½ ÃºÄet, procento
            spropitnÃ©ho a poÄet lidÃ­.</p>

          <div class="math-card text-center">
            <div class="math-label">MatematickÃ½ zÃ¡pis vÃ½poÄtu</div>
            <div class="mb-1 text-start d-inline-block text-nowrap">
              <code>U</code> â€¦ ÃºÄet (bez spropitnÃ©ho) <br>
              <code>p</code> â€¦ spropitnÃ© v % <br>
              <code>n</code> â€¦ poÄet osob
            </div>
            <div class="mt-2">
              <div><code>spropitnÃ© = U Â· (p / 100)</code></div>
              <div><code>celkem = U + spropitnÃ©</code></div>
              <div><code>podÃ­l = celkem / n</code></div>
            </div>
          </div>

          <h5>1ï¸âƒ£ Co poÄÃ­tÃ¡me matematicky</h5>
          <p>Postup je:</p>
          <ol>
            <li>z procent udÄ›lat desetinnÃ© ÄÃ­slo: <code>p / 100</code>,</li>
            <li>vypoÄÃ­tat samotnÃ© spropitnÃ©: <code>spropitnÃ© = U Â· (p / 100)</code>,</li>
            <li>seÄÃ­st ÃºÄet + spropitnÃ©: <code>celkem = U + spropitnÃ©</code>,</li>
            <li>rozdÄ›lit na osoby: <code>podÃ­l = celkem / n</code>.</li>
          </ol>

          <h5>2ï¸âƒ£ Jak z toho udÄ›lÃ¡me Python</h5>
          <p>KaÅ¾dÃ½ krok dÃ¡me do samostatnÃ© Å™Ã¡dky v kÃ³du:</p>

<pre><code class="language-python">print("VÃ­tej v kalkulaÄce spropitnÃ©ho!")

# 1) Vstupy
ucet = float(input("JakÃ¡ byla celkovÃ¡ cena ÃºÄtu? KÄ: "))
sprop = int(input("Kolik dÃ¡Å¡ spropitnÃ©ho? (napÅ™. 10 / 12 / 15): "))
osoby = int(input("Mezi kolik lidÃ­ se ÃºÄet dÄ›lÃ­? "))

# 2) VÃ½poÄet spropitnÃ©ho (procenta -> desetinnÃ© ÄÃ­slo)
spropitne = ucet * (sprop / 100)

# 3) CelkovÃ¡ ÄÃ¡stka (ÃºÄet + spropitnÃ©)
celkem = ucet + spropitne

# 4) PodÃ­l na osobu
podil = celkem / osoby

# 5) VÃ½stup na 2 desetinnÃ¡ mÃ­sta
print(f"KaÅ¾dÃ½ zaplatÃ­: {podil:.2f} KÄ")</code></pre>

          <div class="d-flex flex-wrap gap-2 mb-3">
            <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#modalTipJak">
              ğŸ“ MatematickÃ© odvozenÃ­ kroku za krokem
            </button>
            <button class="btn btn-sm btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#modalTipChyby">
              âš ï¸ ÄŒastÃ© chyby & tipy
            </button>
            <button class="btn btn-sm btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#modalF">
              â„¹ï¸ F-stringy & formÃ¡tovÃ¡nÃ­ penÄ›z
            </button>
          </div>

          <!-- Simulace (stejnÃ© kroky jako v Pythonu) -->
          <div class="bg-dark text-light p-3 rounded" style="max-width: 640px;">
            <p><strong>Simulace kalkulaÄky:</strong></p>
            <div>ÃšÄet (KÄ):</div>
            <input type="number" id="tipBill" class="form-control mb-2" step="any">
            <div>SpropitnÃ© (%):</div>
            <input type="number" id="tipPct" class="form-control mb-2" step="1" value="12">
            <div>PoÄet osob:</div>
            <input type="number" id="tipPeople" class="form-control mb-2" step="1" value="2" min="1">
            <button class="btn btn-sm btn-light" onclick="runSimTip()">SpoÄÃ­tat</button>
            <div id="tipResult" class="mt-3" style="white-space:pre-line;color:white;"></div>
          </div>

        </div>
      </div>
    </div>

  </div>

  <!-- ShrnutÃ­ kapitoly -->
  <div class="container my-4 p-4 border rounded bg-light">
    <h3 class="mb-3">ShrnutÃ­ kapitoly</h3>
    <ul class="list-group">
      <li class="list-group-item">UmÃ­Å¡ vzÃ­t <strong>matematickÃ½ vzorec</strong> a pÅ™epsat ho do <strong>Python zÃ¡pisu</strong>.</li>
      <li class="list-group-item">ProcviÄil/a jsi <strong>float</strong>, <strong>int</strong> a pÅ™evody typÅ¯.</li>
      <li class="list-group-item">RozumÃ­Å¡ f-Å™etÄ›zcÅ¯m a zÃ¡pisu jako <code>f"{bmi:.1f}"</code> nebo <code>f"{podil:.2f}"</code>.</li>
      <li class="list-group-item">VytvoÅ™il/a jsi dva malÃ© programy: BMI kalkulÃ¡tor a kalkulaÄku spropitnÃ©ho.</li>
    </ul>
    <div class="alert alert-info mt-3">
      <strong>DalÅ¡Ã­ krok:</strong> zkus oba programy rozÅ¡Ã­Å™it o podmÃ­nky <code>if/elif/else</code> (napÅ™. slovnÃ­ hodnocenÃ­ BMI, rÅ¯znÃ© komentÃ¡Å™e podle vÃ½Å¡e spropitnÃ©ho).
    </div>
  </div>
</section>

<!-- MODÃLY PRO 4.1.2b -->

<!-- BMI: Matematika -> Python -->
<div class="modal fade" id="modalBMIJak" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered"><div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">BMI â€“ jak pÅ™epsat vzorec do Pythonu</h5>
      <button class="btn-close" data-bs-dismiss="modal" aria-label="ZavÅ™Ã­t"></button>
    </div>
    <div class="modal-body">
      <ol>
        <li>
          <strong>Krok 1: matematickÃ½ tvar vzorce</strong><br>
          <code>BMI = hmotnost / vÃ½Å¡kaÂ²</code>
        </li>
        <li>
          <strong>Krok 2: zvol jmÃ©na promÄ›nnÃ½ch</strong><br>
          <code>hmotnost</code>, <code>vyska</code>, <code>bmi</code>.
        </li>
        <li>
          <strong>Krok 3: â€na druhouâ€œ pomocÃ­ <code>**</code></strong><br>
          <code>vyskaÂ²</code> â†’ <code>vyska ** 2</code>
        </li>
        <li>
          <strong>Krok 4: pÅ™epiÅ¡ celÃ½ vzorec</strong><br>
          <code>bmi = hmotnost / (vyska ** 2)</code>
        </li>
        <li>
          <strong>Krok 5: vstupy jako desetinnÃ¡ ÄÃ­sla</strong><br>
          pouÅ¾itÃ­ <code>float()</code> pro vÃ½Å¡ku i hmotnost.
        </li>
      </ol>
      <div class="alert alert-info mb-0">
        <strong>TypickÃ¡ chyba:</strong> vÃ½Å¡ku zadat v cm a nevydÄ›lit 100. <br>
        175 cm musÃ­Å¡ pÅ™epsat na <strong>1.75 m</strong>, jinak je BMI ÃºplnÄ› mimo.
      </div>
    </div>
  </div></div>
</div>

<!-- F-Å™etÄ›zce a formÃ¡tovÃ¡nÃ­ -->
<div class="modal fade" id="modalF" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered"><div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">F-Å™etÄ›zce a formÃ¡tovÃ¡nÃ­: co znamenÃ¡ <code>f"{bmi:.1f}"</code>?</h5>
      <button class="btn-close" data-bs-dismiss="modal" aria-label="ZavÅ™Ã­t"></button>
    </div>
    <div class="modal-body">
      <p>Å˜etÄ›zec zaÄÃ­najÃ­cÃ­ <code>f"</code> se jmenuje <strong>f-string</strong> (formÃ¡tovacÃ­ Å™etÄ›zec).</p>
      <ul>
        <li><code>f"BMI: {bmi:.1f}"</code> â€“ pÃ­smeno <code>f</code> Å™Ã­kÃ¡ Pythonu: â€uvnitÅ™ <code>{ }</code> budou promÄ›nnÃ©â€œ.</li>
        <li><code>{bmi:.1f}</code> â€“ do sloÅ¾enÃ½ch zÃ¡vorek se vloÅ¾Ã­ hodnota promÄ›nnÃ© <code>bmi</code>.</li>
        <li><code>.1f</code> â€“ Å™Ã­kÃ¡ â€zobraz to jako desetinnÃ© ÄÃ­slo (â€floatâ€œ) s <strong>1 desetinnÃ½m mÃ­stem</strong>â€œ.</li>
      </ul>
      <p>PÅ™Ã­klad:</p>
      <pre><code>bmi = 22.4444
print(f"BMI: {bmi:.1f}")   # â†’ BMI: 22.4
print(f"BMI: {bmi:.2f}")   # â†’ BMI: 22.44</code></pre>

      <h5 class="mt-3">ğŸ’° StejnÃ½ princip pro penÃ­ze</h5>
      <p>U penÄ›z obvykle chceme dvÄ› desetinnÃ¡ mÃ­sta:</p>
      <pre><code>podil = 123.456
print(f"KaÅ¾dÃ½ zaplatÃ­: {podil:.2f} KÄ")  # â†’ KaÅ¾dÃ½ zaplatÃ­: 123.46 KÄ</code></pre>

      <div class="alert alert-info mb-0">
        <strong>ShrnutÃ­:</strong> <code>:.1f</code> = 1 desetinnÃ© mÃ­sto, <code>:.2f</code> = 2 desetinnÃ¡ mÃ­sta atd.
      </div>
    </div>
  </div></div>
</div>

<!-- Tip: Jak se poÄÃ­tÃ¡ + matematickÃ© odvozenÃ­ -->
<div class="modal fade" id="modalTipJak" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered"><div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">KalkulaÄka spropitnÃ©ho â€“ matematickÃ© odvozenÃ­</h5>
      <button class="btn-close" data-bs-dismiss="modal" aria-label="ZavÅ™Ã­t"></button>
    </div>
    <div class="modal-body">
      <ol>
        <li>
          <strong>Procenta â†’ desetinnÃ© ÄÃ­slo:</strong><br>
          <code>sprop = 10</code> znamenÃ¡ 10&nbsp;%.<br>
          Jako ÄÃ­slo to je <code>10 / 100 = 0.10</code>.
        </li>
        <li>
          <strong>VÃ½poÄet spropitnÃ©ho:</strong><br>
          <code>spropitne = ucet * (sprop / 100)</code><br>
          NapÅ™. ÃºÄet 500 KÄ a 10&nbsp;% â†’ <code>500 * 0.10 = 50</code> KÄ.
        </li>
        <li>
          <strong>PÅ™iÄtenÃ­ spropitnÃ©ho:</strong><br>
          <code>celkem = ucet + spropitne</code>
        </li>
        <li>
          <strong>RozdÄ›lenÃ­ mezi osoby:</strong><br>
          <code>podil = celkem / osoby</code>
        </li>
      </ol>
      <div class="alert alert-info mb-0">
        <strong>PozdÄ›ji:</strong> stejnÃ½ vÃ½sledek lze zapsat i zkrÃ¡cenÄ›<br>
        <code>celkem = ucet * (1 + sprop / 100)</code> â€“ v tÃ©to lekci ale pouÅ¾Ã­vÃ¡me pÅ™ehlednou verzi po krocÃ­ch.
      </div>
    </div>
  </div></div>
</div>

<!-- Tip: ÄŒastÃ© chyby -->
<div class="modal fade" id="modalTipChyby" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered"><div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">ÄŒastÃ© chyby &amp; tipy</h5>
      <button class="btn-close" data-bs-dismiss="modal" aria-label="ZavÅ™Ã­t"></button>
    </div>
    <div class="modal-body">
      <ul>
        <li><b>TypeError:</b> SÄÃ­tÃ¡Å¡ text a ÄÃ­slo â€“ pÅ™evÃ¡dÄ›j na sprÃ¡vnÃ© typy, pouÅ¾Ã­vej <code>float()</code>/<code>int()</code> a f-stringy.</li>
        <li><b>DÄ›lenÃ­ nulou:</b> OÅ¡etÅ™i <code>osoby &lt; 1</code> â†’ minimÃ¡lnÄ› 1 osoba.</li>
        <li><b>FormÃ¡t penÄ›z:</b> Pro zobrazenÃ­ pouÅ¾Ã­vej <code>:.2f</code>; pro vÃ½poÄty uchovÃ¡vej v ÄÃ­slech, ne jako text.</li>
        <li><b>DesetinnÃ¡ teÄka vs ÄÃ¡rka:</b> V Pythonu pouÅ¾Ã­vej <b>teÄku</b> <code>1.75</code>, ne ÄÃ¡rku.</li>
        <li><b>Å patnÄ› spoÄÃ­tanÃ© procento:</b> ÄastÃ¡ chyba je napsat <code>ucet * sprop</code> mÃ­sto <code>ucet * (sprop / 100)</code>.</li>
      </ul>
    </div>
  </div></div>
</div>

<!-- JS simulace pro kalkulaÄku spropitnÃ©ho (stejnÄ› jako Python verze) -->
<script>
  function runSimTip(){
    const bill = parseFloat(document.getElementById('tipBill').value || '0');
    const pct  = parseFloat(document.getElementById('tipPct').value  || '0');
    const ppl  = Math.max(1, parseInt(document.getElementById('tipPeople').value || '1'));
    if (bill < 0 || pct < 0) {
      document.getElementById('tipResult').textContent = "Zadej nezÃ¡pornÃ© hodnoty.";
      return;
    }
    // StejnÃ© kroky jako v Pythonu:
    const tip   = bill * (pct / 100);   // spropitnÃ©
    const total = bill + tip;           // ÃºÄet + spropitnÃ©
    const share = total / ppl;          // ÄÃ¡stka na osobu
    document.getElementById('tipResult').textContent =
      `KaÅ¾dÃ½ zaplatÃ­: ${share.toFixed(2)} KÄ\n(Celkem: ${total.toFixed(2)} KÄ; Osob: ${ppl})`;
  }
</script>
