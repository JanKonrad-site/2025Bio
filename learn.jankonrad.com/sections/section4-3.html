<section id="section4-3" class="section-wrapper container my-5">
  <h3 class="mb-3">4.3 Indexování a řezání řetězců</h3>
  <p class="lead">Naučíme se, jak se v Pythonu dostat k jednotlivým znakům v textu (<em>indexování</em>) a jak z textu vyříznout jen část (<em>řezání</em>). Tyto základy budeme potřebovat pro kontrolu vstupů v kalkulačce a pro práci s funkcemi v další kapitole.</p>

  <div class="row g-3">
    <!-- Indexování -->
    <div class="col-lg-6">
      <div class="card h-100"><div class="card-body">
        <h5 class="card-title">Co je indexování</h5>
        <p>Každý znak v textu má své pořadové číslo (<strong>index</strong>). Indexování začíná od nuly:</p>
<pre><code class="language-python">slovo = "Ahoj"
# Indexy:  0   1   2   3
# Znaky:  'A' 'h' 'o' 'j'

print(slovo[0])  # A
print(slovo[1])  # h
print(slovo[3])  # j</code></pre>
        <div class="alert alert-info small mb-0">⚠️ Pozor: pokud použiješ index, který neexistuje, program spadne s chybou.</div>
      </div></div>
    </div>

    <!-- Délka řetězce -->
    <div class="col-lg-6">
      <div class="card h-100"><div class="card-body">
        <h5 class="card-title">Jak zjistit délku textu</h5>
        <p>Použij funkci <code>len()</code>, která vrátí počet znaků:</p>
<pre><code class="language-python">slovo = "Ahoj"
print(len(slovo))  # 4

# Můžeme použít v cyklu:
i = 0
while i &lt; len(slovo):
    print(slovo[i])
    i = i + 1</code></pre>
      </div></div>
    </div>
  </div>

  <hr class="my-4">

  <div class="row g-3">
    <!-- Řezání -->
    <div class="col-lg-6">
      <div class="card h-100"><div class="card-body">
        <h5 class="card-title">Řezání (slicing)</h5>
        <p>Z textu můžeme „ukrojit“ část – tzv. <em>slice</em>:</p>
<pre><code class="language-python">slovo = "Ahoj"

print(slovo[0:2])  # Ah  (indexy 0 a 1)
print(slovo[1:4])  # hoj (indexy 1, 2, 3)</code></pre>
        <ul>
          <li><code>start</code> = odkud začít (včetně)</li>
          <li><code>stop</code> = kde skončit (bez tohoto znaku)</li>
        </ul>
      </div></div>
    </div>

    <!-- Kratší zápis -->
    <div class="col-lg-6">
      <div class="card h-100"><div class="card-body">
        <h5 class="card-title">Kratší zápis</h5>
<pre><code class="language-python">slovo = "Ahoj"

print(slovo[:2])   # Ah (od začátku do indexu 2)
print(slovo[1:])   # hoj (od indexu 1 do konce)</code></pre>
        <div class="alert alert-secondary small mb-0">Pokud vynecháš <code>start</code>, bere se od začátku.  
Pokud vynecháš <code>stop</code>, bere se až do konce.</div>
      </div></div>
    </div>
  </div>

  <hr class="my-4">

  <!-- Přeskočení znaku -->
  <div class="row g-3">
    <div class="col-lg-6">
      <div class="card h-100"><div class="card-body">
        <h5 class="card-title">Přeskočení prvního znaku</h5>
        <p>Pokud má číslo znaménko <code>-</code>, můžeme ho přeskočit a zkontrolovat jen zbytek:</p>
<pre><code class="language-python">cislo = "-123"
print(cislo[1:])  # "123" (od druhého znaku dál)</code></pre>
      </div></div>
    </div>

    <!-- Praktické použití -->
    <div class="col-lg-6">
      <div class="card h-100"><div class="card-body">
        <h5 class="card-title">Praktické použití</h5>
<pre><code class="language-python">def je_celek(text):
    text = text.strip()
    if text == "":
        return False
    if text[0] == "-":           # začíná mínusem?
        return text[1:].isdigit()  # zbytek musí být číslice
    return text.isdigit()</code></pre>
        <p class="small mb-0">Takhle poznáme, jestli je text celé číslo (kladné i záporné).</p>
      </div></div>
    </div>
  </div>

  <hr class="my-4">

  <!-- Cvičení -->
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Cvičení (10 minut)</h5>
      <ol>
        <li>Vypiš všechny znaky z <code>"Program"</code> po jednom.</li>
        <li>Vypiš první 3 znaky z <code>"Python"</code>.</li>
        <li>Vypiš vše kromě prvního znaku z <code>"Banán"</code>.</li>
        <li>Vytvoř funkci <code>zacina_na(text, znak)</code>, která vrátí <code>True</code>, pokud text začíná na daný znak.</li>
      </ol>
    </div>
  </div>

  <hr class="my-4">

  <!-- Mini kvíz -->
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Rychlý kvíz</h5>
      <div class="mb-3">
        <p class="mb-2"><strong>1.</strong> Jaký index má první znak řetězce?</p>
        <div class="btn-group" role="group">
          <button class="btn btn-outline-secondary quiz4-3" data-correct="true">0</button>
          <button class="btn btn-outline-secondary quiz4-3" data-correct="false">1</button>
          <button class="btn btn-outline-secondary quiz4-3" data-correct="false">Nelze zjistit</button>
        </div>
      </div>
      <div class="mb-3">
        <p class="mb-2"><strong>2.</strong> Co vrátí <code>"Python"[2:4]</code>?</p>
        <div class="btn-group" role="group">
          <button class="btn btn-outline-secondary quiz4-3" data-correct="false">"th"</button>
          <button class="btn btn-outline-secondary quiz4-3" data-correct="true">"th"</button>
          <button class="btn btn-outline-secondary quiz4-3" data-correct="false">"to"</button>
        </div>
      </div>
      <div class="mb-0">
        <p class="mb-2"><strong>3.</strong> Co udělá <code>slovo[1:]</code>?</p>
        <div class="btn-group" role="group">
          <button class="btn btn-outline-secondary quiz4-3" data-correct="true">Vrátí vše kromě prvního znaku</button>
          <button class="btn btn-outline-secondary quiz4-3" data-correct="false">Vrátí první znak</button>
          <button class="btn btn-outline-secondary quiz4-3" data-correct="false">Smaže první znak</button>
        </div>
      </div>
      <div id="quiz4-3-result" class="mt-3" aria-live="polite"></div>
    </div>
  </div>
</section>

<script>
  // Vyhodnocení kvízu pro 4.3
  (function () {
    const box = document.getElementById('section4-3');
    if (!box) return;
    const btns = box.querySelectorAll('.quiz4-3');
    const out = box.querySelector('#quiz4-3-result');
    let a = 0, c = 0;
    btns.forEach(b => {
      b.addEventListener('click', () => {
        if (b.classList.contains('disabled')) return;
        const ok = b.dataset.correct === 'true';
        b.classList.add(ok ? 'btn-success' : 'btn-danger', 'disabled');
        b.parentElement.querySelectorAll('.quiz4-3').forEach(sib => sib.classList.add('disabled'));
        a++; if (ok) c++;
        out.innerHTML = `<span class="badge bg-primary">Skóre: ${c} / ${a}</span>`;
      });
    });
  })();
</script>
